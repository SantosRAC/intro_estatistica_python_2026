---
title: "Dia 02 - Introdu√ß√£o a Estat√≠stica"
subtitle: "Introdu√ß√£o √† Estat√≠stica com Python"
author: "Jo√£o Novoletti"
date: "2025-12-12"
format:
  revealjs:
    theme: dracula
    transition: fade
    slide-number: true
    chalkboard: true
    width: 1280
    height: 720
    code-copy: true
    show-slide-number: all
    center: true
jupyter: python3
lang: pt-BR
execute:
  echo: true
  warning: false
  error: false
---

# Estat√≠stica e An√°lise de Dados

## Contexto

A **ci√™ncia de dados** √© uma √°rea interdisciplinar que combina:

- **Estat√≠stica** ‚Äî coleta, organiza√ß√£o e an√°lise de dados
- **Ci√™ncia da Computa√ß√£o** ‚Äî algoritmos eficientes e escal√°veis

Seu objetivo √© **extrair informa√ß√µes relevantes** a partir de dados para gerar conhecimento e apoiar decis√µes.

:::{.callout-note}
"Data is not an end in itself but a means to an end" ‚Äî Faraway & Augustin (2018)
:::


---

## Por que Estat√≠stica?

Dentro da ci√™ncia de dados, a **estat√≠stica** fornece os fundamentos para:

- Compreender e resumir dados
- Identificar padr√µes e incertezas
- Sustentar conclus√µes de forma rigorosa

Por isso a estat√≠stica √© abordada como **base essencial** para a an√°lise de dados com Python.

:::{.callout-note}
Python √© a ferramenta. Estat√≠stica √© o m√©todo. Dados s√£o o meio.
:::

---

# Duas √Åreas da Estat√≠stica

## Estat√≠stica Descritiva

Voltada para **resumo e apresenta√ß√£o** dos dados observados.

Utiliza:

- Medidas num√©ricas (m√©dia, mediana, vari√¢ncia)
- Gr√°ficos e tabelas
- Visualiza√ß√µes

**Objetivo:** Proporcionar vis√£o clara e organizada da informa√ß√£o dispon√≠vel.

---

## Estat√≠stica Inferencial

Utiliza dados **amostrados** para fazer infer√™ncias sobre uma **popula√ß√£o maior**.

Utiliza:

- Testes de hip√≥teses
- Intervalos de confian√ßa
- Modelos probabil√≠sticos

**Objetivo:** Estimar par√¢metros e tomar decis√µes com base em evid√™ncias quantitativas.

---

## Por Onde Come√ßar?

```
Estat√≠stica Descritiva
         ‚Üì
Entender dados (organizar, visualizar, descrever)
         ‚Üì
Estat√≠stica Inferencial
         ‚Üì
Modelagem Estat√≠stica
         ‚Üì
Machine Learning
```

:::{.callout-tip}
Comece pela **estat√≠stica descritiva**! Ela fornece a base s√≥lida necess√°ria para entender conceitos mais abstratos.
:::

---

# Tipos de Vari√°veis

## Qualitativas (Categ√≥ricas)

Representam **categorias** ou qualidades:

- **Nominais:** sem ordem
  - Exemplos: cor dos olhos, profiss√£o, estado civil
  
- **Ordinais:** com ordem
  - Exemplos: n√≠vel de escolaridade, classifica√ß√£o de produto (‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê)

---

## Quantitativas (Num√©ricas)

Representam **quantidades** ou valores num√©ricos:

- **Discretas:** n√∫meros inteiros
  - Exemplos: n√∫mero de filhos, chamadas recebidas, plantas em uma parcela
  
- **Cont√≠nuas:** n√∫meros reais
  - Exemplos: peso, altura, temperatura, tempo de rea√ß√£o

---

## Identificando Tipos de Vari√°veis

A correta identifica√ß√£o √© **fundamental** para escolher os m√©todos de an√°lise adequados!

```{python}
# Exemplos em Python
cor_olhos = "azul"              # Qualitativa Nominal
escolaridade = "ensino m√©dio"   # Qualitativa Ordinal
num_filhos = 2                  # Quantitativa Discreta
altura = 1.75                   # Quantitativa Cont√≠nua
```

---

# Popula√ß√£o vs Amostra

## Defini√ß√µes

- **Popula√ß√£o:** conjunto completo de elementos que se deseja estudar
  
- **Amostra:** subconjunto representativo da popula√ß√£o sobre o qual se realizam c√°lculos

---

## Par√¢metros vs Estat√≠sticas

| Termo | Defini√ß√£o | Exemplo |
|-------|-----------|---------|
| **Par√¢metro** | Medida calculada na **popula√ß√£o** | Œº (m√©dia populacional) |
| **Estat√≠stica** | Medida calculada na **amostra** | xÃÑ (m√©dia amostral) |

A amostra fornece **estimativas** dos valores populacionais verdadeiros.

:::{.callout-important}
A amostra deve ser **representativa e aleat√≥ria** para que as infer√™ncias sejam v√°lidas!
:::

---

# Medidas de Tend√™ncia Central

## M√©dia Aritm√©tica

Representa o valor **"t√≠pico"** de um conjunto de dados.

**F√≥rmula (Amostra):**

$$\bar{x} = \frac{1}{n} \sum_{i=1}^{n} x_i$$

**Caracter√≠sticas:**

- Mais comum de tend√™ncia central
- Sens√≠vel a valores extremos (outliers)
- F√°cil de calcular e interpretar

---

### Exemplo: M√©dia

```{python}
import pandas as pd
import seaborn as sns

# Carregando dataset de pinguins
penguins = sns.load_dataset('penguins')

# IMPORTANTE: remover linhas com valores ausentes (NaN)
penguins = penguins.dropna()

# Calcular m√©dia do comprimento da nadadeira
media_nadadeira = penguins['flipper_length_mm'].mean()

print(f"Comprimento m√©dio da nadadeira: {media_nadadeira:.2f} mm")
```

:::{.callout-important}
O m√©todo `.dropna()` remove linhas com valores ausentes (NaN). Dados incompletos podem distorcer nossas an√°lises!
:::

---

## Mediana

Valor **central** de um conjunto de dados ordenados.

**Caracter√≠sticas:**

- N√£o depende se √© popula√ß√£o ou amostra
- Resistente a outliers
- Necessita ordena√ß√£o dos dados

**F√≥rmula:**

- Se n √© **√≠mpar:** Mediana = x_{(n+1)/2}
- Se n √© **par:** Mediana = (x_{n/2} + x_{(n/2)+1}) / 2

---

### Exemplo: Mediana

```{python}
import pandas as pd
import seaborn as sns

penguins = sns.load_dataset('penguins').dropna()

mediana_nadadeira = penguins['flipper_length_mm'].median()

print(f"Comprimento mediano da nadadeira: {mediana_nadadeira:.2f} mm")
```

---

## Moda

Valor que ocorre com **maior frequ√™ncia** em um conjunto de dados.

**Caracter√≠sticas:**

- O valor "mais prov√°vel" de ser amostrado
- Pode n√£o existir ou haver m√∫ltiplas modas
- Aplic√°vel a dados qualitativos e quantitativos

**F√≥rmula:** Moda = arg max_x f(x)

---

### Exemplo: Moda

```{python}
import pandas as pd
import seaborn as sns

penguins = sns.load_dataset('penguins').dropna()

# Encontrar esp√©cie mais frequente (moda)
moda_especie = penguins['species'].mode()[0]

print(f"Esp√©cie modal (mais frequente): {moda_especie}")
print(f"\nFrequ√™ncias:")
print(penguins['species'].value_counts())
```

---

## Compara√ß√£o: M√©dia, Mediana e Moda

```{python}
import pandas as pd
import seaborn as sns

penguins = sns.load_dataset('penguins').dropna()

media = penguins['flipper_length_mm'].mean()
mediana = penguins['flipper_length_mm'].median()
moda = penguins['flipper_length_mm'].mode()[0]

print(f"M√©dia: {media:.2f} mm")
print(f"Mediana: {mediana:.2f} mm")
print(f"Moda: {moda:.2f} mm")

# Ver estat√≠sticas descritivas
print("\nResumo estat√≠stico:")
print(penguins['flipper_length_mm'].describe())
```

---

# Medidas de Dispers√£o

## Por que medir dispers√£o?

Dados com a **mesma m√©dia** podem ter **distribui√ß√µes muito diferentes**!

Medidas de dispers√£o quantificam o grau de varia√ß√£o dos dados em torno da m√©dia.

---

## Amplitude

Medida mais simples: dist√¢ncia entre o maior e menor valor.

**F√≥rmula:**

$$A = x_{m√°x} - x_{m√≠n}$$

**Caracter√≠sticas:**

- Simples e r√°pida
- Altamente sens√≠vel a outliers
- Ignora toda a distribui√ß√£o intermedi√°ria

---

### Exemplo: Amplitude

```{python}
import pandas as pd
import seaborn as sns

penguins = sns.load_dataset('penguins').dropna()

amplitude = penguins['flipper_length_mm'].max() - penguins['flipper_length_mm'].min()

print(f"Amplitude: {amplitude:.2f} mm")
print(f"M√≠nimo: {penguins['flipper_length_mm'].min():.2f} mm")
print(f"M√°ximo: {penguins['flipper_length_mm'].max():.2f} mm")
```

---

## Vari√¢ncia

Mede a dispers√£o dos dados em torno da m√©dia. √â a **m√©dia dos quadrados dos desvios**.

**F√≥rmula (Amostra):**

$$s^2 = \frac{1}{n-1} \sum_{i=1}^{n} (x_i - \bar{x})^2$$

**Caracter√≠sticas:**

- Amplamente utilizada em an√°lises estat√≠sticas
- Expressa em unidades ao quadrado
- Usa n-1 (corre√ß√£o de Bessel) para n√£o tendenciosidade

---

## Aten√ß√£o ao `ddof`

O par√¢metro **`ddof`** (*delta degrees of freedom*) define o denominador da vari√¢ncia.

- `ddof = 0` ‚Üí vari√¢ncia **populacional** (divide por *n*)
- `ddof = 1` ‚Üí vari√¢ncia **amostral** (divide por *n ‚àí 1*)

üìå Em **estat√≠stica inferencial**, usamos **`ddof = 1`**  
üìå Em **Python**, o valor padr√£o **depende da biblioteca**

| Biblioteca | Padr√£o |
|-----------|--------|
| `pandas` | `ddof = 1` |
| `numpy`  | `ddof = 0` |

---

### Exemplo: Vari√¢ncia

```{python}
import pandas as pd
import seaborn as sns

penguins = sns.load_dataset('penguins').dropna()

variancia = penguins['flipper_length_mm'].var()  # ddof=1 por padr√£o

print(f"Vari√¢ncia: {variancia:.2f} mm¬≤")
```

---

## Desvio Padr√£o

Raiz quadrada da vari√¢ncia. Mede o afastamento **m√©dio** dos dados em rela√ß√£o √† m√©dia.

**F√≥rmula (Amostra):**

$$s = \sqrt{\frac{1}{n-1} \sum_{i=1}^{n} (x_i - \bar{x})^2}$$

**Caracter√≠sticas:**

- Mesma unidade dos dados originais
- Preferido em muitas aplica√ß√µes
- Maior desvio padr√£o = maior dispers√£o

::: callout-tip
Por ser a raiz da vari√¢ncia, o desvio padr√£o retorna √† **escala original dos dados**,
tornando a medida de dispers√£o mais intuitiva e compar√°vel.
:::

---

### Exemplo: Desvio Padr√£o

```{python}
import pandas as pd
import seaborn as sns

penguins = sns.load_dataset('penguins').dropna()

desvio_padrao = penguins['flipper_length_mm'].std()

print(f"Desvio padr√£o: {desvio_padrao:.2f} mm")
print(f"As nadadeiras variam em m√©dia {desvio_padrao:.2f} mm em torno da m√©dia")
```

---

# Medidas de Posi√ß√£o

## Quantis

Dividem um conjunto de dados **ordenado** em partes iguais.

O **p-√©simo quantil Q_p** (0 < p < 1) √© o valor abaixo do qual encontram-se 100p% dos dados.

**Interpreta√ß√£o:**

- Q_{0.25}: 25% dos dados abaixo deste valor
- Q_{0.50}: 50% dos dados abaixo (√© a **mediana**)
- Q_{0.75}: 75% dos dados abaixo deste valor

---

## Quartis

Quantis espec√≠ficos que dividem os dados em **4 partes iguais**.

- **Q‚ÇÅ (1¬∫ quartil):** Q_{0.25}
- **Q‚ÇÇ (2¬∫ quartil):** Q_{0.50} = Mediana
- **Q‚ÇÉ (3¬∫ quartil):** Q_{0.75}

---

### Exemplo: Quartis

```{python}
import pandas as pd
import seaborn as sns

penguins = sns.load_dataset('penguins').dropna()

q1 = penguins['flipper_length_mm'].quantile(0.25)
q2 = penguins['flipper_length_mm'].quantile(0.50)  # mediana
q3 = penguins['flipper_length_mm'].quantile(0.75)

print(f"Q1 (25%): {q1:.2f} mm")
print(f"Q2 (50%, Mediana): {q2:.2f} mm")
print(f"Q3 (75%): {q3:.2f} mm")
```

---

## Boxplot (Diagrama de Caixa)

Visualiza a distribui√ß√£o dos dados usando quartis:

- **Caixa:** cont√©m os 50% centrais dos dados (Q1 a Q3)
- **Linha dentro da caixa:** mediana (Q2)
- **Bigodes:** estendem-se at√© m√≠nimo e m√°ximo
- **Pontos isolados:** outliers

:::{.callout-note}
Boxplots s√£o essenciais para identificar valores discrepantes e padr√µes na distribui√ß√£o!
:::

---

### Exemplo: Boxplot em Python


```{python}
#| fig-align: center
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

penguins = sns.load_dataset('penguins').dropna()

plt.figure(figsize=(10, 6))
sns.boxplot(data=penguins, x='species', y='flipper_length_mm')
plt.ylabel("Comprimento da Nadadeira (mm)")
plt.xlabel("Esp√©cie")
plt.title("Boxplot do Comprimento da Nadadeira por Esp√©cie")
plt.grid(True, alpha=0.3, axis='y')
plt.tight_layout()
plt.show()
```

---

# Distribui√ß√£o de Frequ√™ncias

## Para Dados Qualitativos

**Tabela de Frequ√™ncia:**

| Categoria | Frequ√™ncia Absoluta | Frequ√™ncia Relativa (%) |
|-----------|-------------------|----------------------|
| Azul | 9 | 45% |
| Verde | 6 | 30% |
| Vermelho | 5 | 25% |
| **Total** | **20** | **100%** |

---

## Para Dados Quantitativos

**Tabela de Frequ√™ncia em Intervalos:**

| Intervalo (cm) | f | F | Freq. Relativa (%) |
|---|---|---|---|
| [160 - 165[ | 3 | 3 | 15% |
| [165 - 170[ | 3 | 6 | 15% |
| [170 - 175[ | 4 | 10 | 20% |
| [175 - 180[ | 2 | 12 | 10% |
| [180 - 185[ | 3 | 15 | 15% |
| [185 - 190[ | 4 | 19 | 20% |
| **Total** | **20** | **‚Äì** | **100%** |

---

### Criando Tabela de Frequ√™ncia em Python

```{python}
import pandas as pd
import seaborn as sns

penguins = sns.load_dataset('penguins').dropna()

# Tabela de frequ√™ncia absoluta para esp√©cies (vari√°vel qualitativa)
freq_absoluta = penguins['species'].value_counts()
freq_relativa = penguins['species'].value_counts(normalize=True) * 100

tabela_freq = pd.DataFrame({
    'Frequ√™ncia Absoluta': freq_absoluta,
    'Frequ√™ncia Relativa (%)': freq_relativa.round(2)
})

print(tabela_freq)

# Para dados quantitativos cont√≠nuos
print("\n" + "="*50)
print("Frequ√™ncia por intervalos de comprimento de nadadeira:")
bins = [170, 180, 190, 200, 210, 220, 230]
freq_intervalos = pd.cut(penguins['flipper_length_mm'], bins=bins).value_counts().sort_index()
print(freq_intervalos)
```

---

# Visualiza√ß√µes

## Gr√°fico de Barras

Para vari√°veis **qualitativas**:

```{python}
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

penguins = sns.load_dataset('penguins').dropna()

plt.figure(figsize=(8, 6))
penguins['species'].value_counts().plot(kind='bar', color=['steelblue', 'coral', 'seagreen'], alpha=0.8)
plt.ylabel('Frequ√™ncia')
plt.xlabel('Esp√©cie')
plt.title('Distribui√ß√£o de Esp√©cies de Pinguins')
plt.xticks(rotation=45)
plt.grid(True, alpha=0.3, axis='y')
plt.tight_layout()
plt.show()
```

---

## Histograma

Para vari√°veis **quantitativas cont√≠nuas**:

```{python}
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

penguins = sns.load_dataset('penguins').dropna()

plt.figure(figsize=(8, 6))
plt.hist(penguins['flipper_length_mm'], bins=20, edgecolor='black', alpha=0.7, color='steelblue')
plt.xlabel('Comprimento da Nadadeira (mm)')
plt.ylabel('Frequ√™ncia')
plt.title('Distribui√ß√£o do Comprimento da Nadadeira')
plt.grid(True, alpha=0.3, axis='y')
plt.show()
```

---

# Erro Padr√£o e Estimativa

## Erro Padr√£o (Standard Error)

Medida da **variabilidade da estimativa pontual** entre diferentes amostras.

**F√≥rmula:**

$$SE = \frac{s}{\sqrt{n}}$$

Onde:
- s = desvio padr√£o da amostra
- n = tamanho da amostra

**Interpreta√ß√£o:** Quanto menor o SE, mais precisa √© a estimativa!

---

### Exemplo: Erro Padr√£o

```{python}
import pandas as pd
import seaborn as sns
import numpy as np

penguins = sns.load_dataset('penguins').dropna()

s = penguins['flipper_length_mm'].std()
n = len(penguins['flipper_length_mm'])
se = s / np.sqrt(n)

print(f"Desvio padr√£o: {s:.2f} mm")
print(f"Tamanho da amostra: {n}")
print(f"Erro padr√£o: {se:.2f} mm")

# Calculando o Erro Padr√£o diretamente
se_pandas = penguins['flipper_length_mm'].sem()

print(f"Erro padr√£o (via Pandas): {se_pandas:.2f} mm")
```

---

## Estimativa Pontual

Um **valor √∫nico** calculado a partir da amostra que serve como "melhor palpite" para um par√¢metro populacional.

**Exemplos:**

- M√©dia amostral xÃÑ √© estimativa pontual de Œº (m√©dia populacional)
- Vari√¢ncia amostral s¬≤ √© estimativa de œÉ¬≤ (vari√¢ncia populacional)

:::{.callout-note}
As medidas amostrais s√£o estimativas dos par√¢metros populacionais verdadeiros!
:::

---

## Intervalo de Confian√ßa

Faixa de valores constru√≠da em torno da estimativa pontual, com certa probabilidade (n√≠vel de confian√ßa) de conter o par√¢metro populacional.

**F√≥rmula (amostras pequenas ou vari√¢ncia desconhecida):**

$$\bar{x} \pm t_{\alpha/2, n-1} \times SE$$

---

### Exemplo: Intervalo de Confian√ßa

```{python}
import pandas as pd
import seaborn as sns
import numpy as np
from scipy import stats

penguins = sns.load_dataset('penguins').dropna()

media = penguins['flipper_length_mm'].mean()
s = penguins['flipper_length_mm'].std()
n = len(penguins['flipper_length_mm'])
se = s / np.sqrt(n)
gl = n - 1  # graus de liberdade

# t cr√≠tico para 95% de confian√ßa
t_critico = stats.t.ppf(0.975, gl)

ic_inf = media - t_critico * se
ic_sup = media + t_critico * se

print(f"M√©dia: {media:.2f} mm")
print(f"Erro padr√£o: {se:.2f} mm")
print(f"Intervalo de Confian√ßa 95%: ({ic_inf:.2f}, {ic_sup:.2f}) mm")

```

---

## Interpreta√ß√£o do Intervalo de Confian√ßa

Um intervalo de confian√ßa de **95%** significa:

"Se repet√≠ssemos o processo de amostragem muitas vezes e calcul√°ssemos um IC para cada amostra, aproximadamente **95% desses intervalos conteriam o verdadeiro par√¢metro populacional**."

:::{.callout-warning}
‚ö†Ô∏è N√ÉO √© correto dizer: "h√° 95% de chance de que Œº est√° neste intervalo" (Œº √© fixo, n√£o aleat√≥rio!)
:::

---

# Resumo da Aula

## Conceitos-chave

‚úì Estat√≠stica = combina√ß√£o de m√©todos estat√≠sticos + algoritmos computacionais

‚úì **Descritiva:** resumir e apresentar dados

‚úì **Inferencial:** fazer conclus√µes sobre popula√ß√£o com base na amostra

‚úì **Tipos de vari√°veis:** qualitativas e quantitativas

‚úì **Popula√ß√£o vs Amostra:** par√¢metros vs estat√≠sticas

‚úì **Medidas de tend√™ncia central:** m√©dia, mediana, moda

‚úì **Medidas de dispers√£o:** amplitude, vari√¢ncia, desvio padr√£o

‚úì **Medidas de posi√ß√£o:** quartis, boxplot

‚úì **Erro padr√£o e IC:** quantificam precis√£o das estimativas

---

# Fim da Aula

Pr√≥xima aula: Distribui√ß√µes de probabilidade e testes de hip√≥teses!

Obrigado!