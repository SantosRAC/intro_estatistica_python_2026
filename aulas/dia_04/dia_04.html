<!DOCTYPE html>
<html lang="pt-BR"><head>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="dia_04_files/libs/clipboard/clipboard.min.js"></script>
<script src="dia_04_files/libs/quarto-html/tabby.min.js"></script>
<script src="dia_04_files/libs/quarto-html/popper.min.js"></script>
<script src="dia_04_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="dia_04_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="dia_04_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="dia_04_files/libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.26">

  <meta name="author" content="Renato A. Corrêa dos Santos">
  <meta name="dcterms.date" content="2025-10-19">
  <title>Dia 04 - Regressão e Correlação</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="dia_04_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="dia_04_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
  </style>
  <link rel="stylesheet" href="dia_04_files/libs/revealjs/dist/theme/quarto-61c09bd4e055c4e147bbfcd77f3179b7.css">
  <link href="dia_04_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="dia_04_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="dia_04_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="dia_04_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="dia_04_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="dia_04_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>
  
  <script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Dia 04 - Regressão e Correlação</h1>
  <p class="subtitle">Introdução à Estatística com Python</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Renato A. Corrêa dos Santos 
</div>
</div>
</div>

  <p class="date">2025-10-19</p>
</section>
<section>
<section id="análises-de-associação" class="title-slide slide level1 center">
<h1>Análises de associação</h1>
<div class="columns">
<p>Podemos calcular associações entre:</p><ul>
<li><p>Variáveis qualitativas</p></li>
<li><p>Variáveis quantitativas</p></li>
<li><p>Variáveis qualitativas e quantitativas</p></li>
</ul>
</div>
</section>
<section id="tabelas-de-contingência" class="slide level2 center">
<h2>Tabelas de contingência</h2>
<div class="columns">
<p>Tabelas de <strong>dupla entrada</strong> usadas para apresentar dados de <strong>variáveis qualitativas</strong>.</p><ul>
<li><p>Devem apresentar os totais</p></li>
<li><p>Não devem representar amostras muito pequenas</p></li>
</ul>
</div>
</section>
<section id="tabelas-de-contingência-com-python" class="slide level2 center">
<h2>Tabelas de contingência com Python</h2>
<ul>
<li><p><strong>Scipy</strong> é uma das bibliotecas para realização de análises estatísticas</p></li>
<li><p>Inclui a função <code>chia2_contingency</code></p></li>
</ul>
</section>
<section id="tabelas-de-contingência-com-python-1" class="slide level2 center">
<h2>Tabelas de contingência com Python</h2>
<div class="columns">
<p>Exemplo simples (fumantes/não fumantes, homens/mulheres)</p><div id="390da8b5" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href=""></a><span class="im">from</span> scipy.stats <span class="im">import</span> chi2_contingency</span>
<span id="cb1-3"><a href=""></a></span>
<span id="cb1-4"><a href=""></a>fumantes_df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb1-5"><a href=""></a>  <span class="st">"Gender"</span>: [<span class="st">"F"</span>,<span class="st">"M"</span>,<span class="st">"F"</span>,<span class="st">"M"</span>,<span class="st">"F"</span>,<span class="st">"M"</span>,<span class="st">"F"</span>,<span class="st">"M"</span>,<span class="st">"F"</span>,<span class="st">"M"</span>],</span>
<span id="cb1-6"><a href=""></a>  <span class="st">"Smokes"</span>: [<span class="st">"No"</span>,<span class="st">"Yes"</span>,<span class="st">"No"</span>,<span class="st">"No"</span>,<span class="st">"Yes"</span>,<span class="st">"Yes"</span>,<span class="st">"No"</span>,<span class="st">"Yes"</span>,<span class="st">"No"</span>,<span class="st">"Yes"</span>]</span>
<span id="cb1-7"><a href=""></a>})</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</section>
<section id="tabelas-de-contingência-com-frequências-absoluta" class="slide level2 smaller center">
<h2>Tabelas de contingência com frequências absoluta</h2>
<div class="columns">
<div id="2ec5a863" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href=""></a><span class="co"># tabela de contingência</span></span>
<span id="cb2-2"><a href=""></a>tab <span class="op">=</span> pd.crosstab(fumantes_df[<span class="st">"Gender"</span>], fumantes_df[<span class="st">"Smokes"</span>])</span>
<span id="cb2-3"><a href=""></a><span class="bu">print</span>(tab)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Smokes  No  Yes
Gender         
F        4    1
M        1    4</code></pre>
</div>
</div>
</div>
</section>
<section id="tabelas-de-contingência-com-frequências-absoluta-1" class="slide level2 smaller center">
<h2>Tabelas de contingência com frequências absoluta</h2>
<div class="columns">
<div id="ceb5cc06" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href=""></a><span class="bu">print</span>(pd.crosstab(fumantes_df[<span class="st">"Gender"</span>], fumantes_df[<span class="st">"Smokes"</span>], margins<span class="op">=</span><span class="va">True</span>))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Smokes  No  Yes  All
Gender              
F        4    1    5
M        1    4    5
All      5    5   10</code></pre>
</div>
</div>
</div>
</section>
<section id="tabelas-de-contingência-com-frequências-relativa" class="slide level2 smaller center">
<h2>Tabelas de contingência com frequências relativa</h2>
<div class="columns">
<div id="7f57804c" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href=""></a><span class="bu">print</span>(pd.crosstab(fumantes_df[<span class="st">"Gender"</span>], fumantes_df[<span class="st">"Smokes"</span>], normalize<span class="op">=</span><span class="st">"index"</span>))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Smokes   No  Yes
Gender          
F       0.8  0.2
M       0.2  0.8</code></pre>
</div>
</div>
</div>
</section>
<section id="calculando-associações-entre-variáveis-qualitativas" class="slide level2 center">
<h2>Calculando associações entre variáveis qualitativas</h2>
<div class="columns">
<p>Descrever a associação entre as variáveis - conhecer o grau de dependência entre elas.</p><ul>
<li><p>Cálculo de coeficientes de associação ou correlação</p></li>
<li><p>Valores de Qui-quadrado de Pearson</p></li>
</ul>
</div>
</section>
<section id="teste-de-qui-quadrado-de-pearson" class="slide level2 center">
<h2>Teste de qui-quadrado de Pearson</h2>
<div class="columns">
<ul>
<li><p>Definição de grupos</p></li>
<li><p>Definição das hipóteses</p></li>
<li><p>Definição do nível de significância</p></li>
<li><p>Cálculo da estatística de teste</p></li>
</ul><p>Rejeição de hipótese nula em valores de qui-quadrado igual ou maior que o da tabela, para determinado nível de significância e graus de liberdade.</p>
</div>
</section></section>
<section>
<section id="teste-qui-quadrado-de-independência" class="title-slide slide level1 center">
<h1>teste qui-quadrado de independência</h1>
<div class="columns">
<div id="15bb0d5c" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href=""></a>chi2, p, dof, expected <span class="op">=</span> chi2_contingency(tab)</span>
<span id="cb8-2"><a href=""></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Qui-quadrado=</span><span class="sc">{</span>chi2<span class="sc">:.3f}</span><span class="ss">, p-valor=</span><span class="sc">{</span>p<span class="sc">:.3f}</span><span class="ss">, graus de liberdade=</span><span class="sc">{</span>dof<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb8-3"><a href=""></a><span class="bu">print</span>(<span class="st">"Contagens esperadas:"</span>)</span>
<span id="cb8-4"><a href=""></a><span class="bu">print</span>(pd.DataFrame(expected, index<span class="op">=</span>tab.index, columns<span class="op">=</span>tab.columns))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Qui-quadrado=1.600, p-valor=0.206, graus de liberdade=1
Contagens esperadas:
Smokes   No  Yes
Gender          
F       2.5  2.5
M       2.5  2.5</code></pre>
</div>
</div>
</div>
</section>
<section id="tabela-referência-qui-quadrado" class="slide level2 center">
<h2>Tabela referência qui-quadrado</h2>
<div class="columns">
<div id="699236b6" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href=""></a><span class="im">from</span> scipy.stats <span class="im">import</span> chi2</span>
<span id="cb10-2"><a href=""></a></span>
<span id="cb10-3"><a href=""></a>alphas <span class="op">=</span> [<span class="fl">0.10</span>, <span class="fl">0.05</span>, <span class="fl">0.01</span>]</span>
<span id="cb10-4"><a href=""></a>dofs <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">20</span>]</span>
<span id="cb10-5"><a href=""></a></span>
<span id="cb10-6"><a href=""></a>data <span class="op">=</span> {<span class="ss">f"α=</span><span class="sc">{</span>alpha<span class="sc">:.2f}</span><span class="ss">"</span>: [chi2.ppf(<span class="dv">1</span> <span class="op">-</span> alpha, df) <span class="cf">for</span> df <span class="kw">in</span> dofs] <span class="cf">for</span> alpha <span class="kw">in</span> alphas}</span>
<span id="cb10-7"><a href=""></a>ref_table <span class="op">=</span> pd.DataFrame(data, index<span class="op">=</span>dofs).<span class="bu">round</span>(<span class="dv">3</span>)</span>
<span id="cb10-8"><a href=""></a>ref_table.index.name <span class="op">=</span> <span class="st">"df"</span></span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</section>
<section id="tabela-referência-qui-quadrado-1" class="slide level2 center">
<h2>Tabela referência qui-quadrado</h2>
<div class="columns">
<div id="3d4bb116" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href=""></a><span class="bu">print</span>(<span class="st">"Tabela Qui-quadrado (valores críticos):"</span>)</span>
<span id="cb11-2"><a href=""></a><span class="bu">print</span>(ref_table)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tabela Qui-quadrado (valores críticos):
    α=0.10  α=0.05  α=0.01
df                        
1    2.706   3.841   6.635
2    4.605   5.991   9.210
3    6.251   7.815  11.345
4    7.779   9.488  13.277
5    9.236  11.070  15.086
10  15.987  18.307  23.209
20  28.412  31.410  37.566</code></pre>
</div>
</div>
</div>
</section>
<section id="simulação-caso-significativo-vs-não-significativo-qui-quadrado" class="slide level2 smaller center">
<h2>Simulação: caso significativo vs não significativo (Qui-quadrado)</h2>
<div class="columns">
<div class="column">
<div id="4b415d6e" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href=""></a>obs_sig <span class="op">=</span> [[<span class="dv">30</span>, <span class="dv">5</span>],</span>
<span id="cb13-2"><a href=""></a>       [<span class="dv">5</span>, <span class="dv">30</span>]]</span>
<span id="cb13-3"><a href=""></a></span>
<span id="cb13-4"><a href=""></a>obs_nonsig <span class="op">=</span> [[<span class="dv">20</span>, <span class="dv">15</span>],</span>
<span id="cb13-5"><a href=""></a>        [<span class="dv">18</span>, <span class="dv">17</span>]]</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div><div class="column">
<div id="ce83a8b3" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href=""></a><span class="kw">def</span> run_chi2(obs, label):</span>
<span id="cb14-2"><a href=""></a>  tab <span class="op">=</span> pd.DataFrame(obs, index<span class="op">=</span>[<span class="st">"Grupo 1"</span>, <span class="st">"Grupo 2"</span>], columns<span class="op">=</span>[<span class="st">"Categoria A"</span>, <span class="st">"Categoria B"</span>])</span>
<span id="cb14-3"><a href=""></a>  chi2, p, dof, expected <span class="op">=</span> chi2_contingency(tab)</span>
<span id="cb14-4"><a href=""></a>  <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">== </span><span class="sc">{</span>label<span class="sc">}</span><span class="ss"> =="</span>)</span>
<span id="cb14-5"><a href=""></a>  <span class="bu">print</span>(<span class="st">"Tabela observada:"</span>)</span>
<span id="cb14-6"><a href=""></a>  <span class="bu">print</span>(tab)</span>
<span id="cb14-7"><a href=""></a>  <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Qui-quadrado=</span><span class="sc">{</span>chi2<span class="sc">:.3f}</span><span class="ss">, p-valor=</span><span class="sc">{</span>p<span class="sc">:.4f}</span><span class="ss">, df=</span><span class="sc">{</span>dof<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb14-8"><a href=""></a>  <span class="bu">print</span>(<span class="st">"Contagens esperadas:"</span>)</span>
<span id="cb14-9"><a href=""></a>  <span class="bu">print</span>(pd.DataFrame(expected, index<span class="op">=</span>tab.index, columns<span class="op">=</span>tab.columns))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div></div>
</section>
<section id="simulação-caso-significativo-vs-não-significativo-qui-quadrado-1" class="slide level2 smaller center">
<h2>Simulação: caso significativo vs não significativo (Qui-quadrado)</h2>
<div class="columns">
<div id="943453f2" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href=""></a>run_chi2(obs_sig, <span class="st">"Associação Significativa (esperado: p &lt; 0.05)"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
== Associação Significativa (esperado: p &lt; 0.05) ==
Tabela observada:
         Categoria A  Categoria B
Grupo 1           30            5
Grupo 2            5           30

Qui-quadrado=32.914, p-valor=0.0000, df=1
Contagens esperadas:
         Categoria A  Categoria B
Grupo 1         17.5         17.5
Grupo 2         17.5         17.5</code></pre>
</div>
</div>
</div>
</section>
<section id="simulação-caso-significativo-vs-não-significativo-qui-quadrado-2" class="slide level2 smaller center">
<h2>Simulação: caso significativo vs não significativo (Qui-quadrado)</h2>
<div class="columns">
<div id="40725457" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href=""></a>run_chi2(obs_nonsig, <span class="st">"Associação Não Significativa (esperado: p &gt;= 0.05)"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
== Associação Não Significativa (esperado: p &gt;= 0.05) ==
Tabela observada:
         Categoria A  Categoria B
Grupo 1           20           15
Grupo 2           18           17

Qui-quadrado=0.058, p-valor=0.8104, df=1
Contagens esperadas:
         Categoria A  Categoria B
Grupo 1         19.0         16.0
Grupo 2         19.0         16.0</code></pre>
</div>
</div>
</div>
</section>
<section id="coeficientes-de-associação" class="slide level2 center">
<h2>Coeficientes de associação</h2>
<p>Há pelo menos dois coeficientes utilizados para <strong>quantificar a associação entre variáveis qualitativas</strong>:</p>
<ul>
<li>Coeficiente fi — φ (phi)</li>
<li>Coeficiente gama — γ (gama)</li>
</ul>
</section>
<section id="quantificando-associações" class="slide level2 center">
<h2>Quantificando associações</h2>
<div id="a732216c" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href=""></a><span class="im">from</span> math <span class="im">import</span> sqrt</span>
<span id="cb19-2"><a href=""></a></span>
<span id="cb19-3"><a href=""></a>tables <span class="op">=</span> {</span>
<span id="cb19-4"><a href=""></a>  <span class="st">"Forte"</span>: [[<span class="dv">45</span>, <span class="dv">5</span>],</span>
<span id="cb19-5"><a href=""></a>            [<span class="dv">4</span>, <span class="dv">46</span>]],</span>
<span id="cb19-6"><a href=""></a>  <span class="st">"Moderada"</span>: [[<span class="dv">30</span>, <span class="dv">20</span>],</span>
<span id="cb19-7"><a href=""></a>               [<span class="dv">18</span>, <span class="dv">22</span>]],</span>
<span id="cb19-8"><a href=""></a>  <span class="st">"Fraca"</span>: [[<span class="dv">20</span>, <span class="dv">17</span>],</span>
<span id="cb19-9"><a href=""></a>            [<span class="dv">16</span>, <span class="dv">19</span>]]</span>
<span id="cb19-10"><a href=""></a>}</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="quantificando-associações-1" class="slide level2 center">
<h2>Quantificando associações</h2>
<div id="dd74307d" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href=""></a><span class="kw">def</span> phi_2x2(obs):</span>
<span id="cb20-2"><a href=""></a>  a, b <span class="op">=</span> obs[<span class="dv">0</span>]</span>
<span id="cb20-3"><a href=""></a>  c, d <span class="op">=</span> obs[<span class="dv">1</span>]</span>
<span id="cb20-4"><a href=""></a>  num <span class="op">=</span> a <span class="op">*</span> d <span class="op">-</span> b <span class="op">*</span> c</span>
<span id="cb20-5"><a href=""></a>  den <span class="op">=</span> sqrt((a <span class="op">+</span> b) <span class="op">*</span> (c <span class="op">+</span> d) <span class="op">*</span> (a <span class="op">+</span> c) <span class="op">*</span> (b <span class="op">+</span> d))</span>
<span id="cb20-6"><a href=""></a>  <span class="cf">return</span> num <span class="op">/</span> den</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="quantificando-associações-2" class="slide level2 smaller center">
<h2>Quantificando associações</h2>
<div id="1cc4dd1c" class="cell" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href=""></a><span class="cf">for</span> label, obs <span class="kw">in</span> tables.items():</span>
<span id="cb21-2"><a href=""></a>  tab <span class="op">=</span> pd.DataFrame(obs, index<span class="op">=</span>[<span class="st">"Grupo 1"</span>, <span class="st">"Grupo 2"</span>], columns<span class="op">=</span>[<span class="st">"Cat A"</span>, <span class="st">"Cat B"</span>])</span>
<span id="cb21-3"><a href=""></a>  chi2, p, dof, expected <span class="op">=</span> chi2_contingency(tab)</span>
<span id="cb21-4"><a href=""></a>  n <span class="op">=</span> tab.values.<span class="bu">sum</span>()</span>
<span id="cb21-5"><a href=""></a>  phi <span class="op">=</span> phi_2x2(obs)</span>
<span id="cb21-6"><a href=""></a>  phi_from_chi2 <span class="op">=</span> (chi2 <span class="op">/</span> n) <span class="op">**</span> <span class="fl">0.5</span></span>
<span id="cb21-7"><a href=""></a>  <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">== </span><span class="sc">{</span>label<span class="sc">}</span><span class="ss"> =="</span>)</span>
<span id="cb21-8"><a href=""></a>  <span class="bu">print</span>(tab)</span>
<span id="cb21-9"><a href=""></a>  <span class="bu">print</span>(<span class="ss">f"chi2=</span><span class="sc">{</span>chi2<span class="sc">:.3f}</span><span class="ss">, p=</span><span class="sc">{</span>p<span class="sc">:.4f}</span><span class="ss">, n=</span><span class="sc">{</span>n<span class="sc">}</span><span class="ss">, phi=</span><span class="sc">{</span>phi<span class="sc">:.3f}</span><span class="ss">, phi_from_chi2=</span><span class="sc">{</span>phi_from_chi2<span class="sc">:.3f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
== Forte ==
         Cat A  Cat B
Grupo 1     45      5
Grupo 2      4     46
chi2=64.026, p=0.0000, n=100, phi=0.820, phi_from_chi2=0.800

== Moderada ==
         Cat A  Cat B
Grupo 1     30     20
Grupo 2     18     22
chi2=1.451, p=0.2283, n=90, phi=0.149, phi_from_chi2=0.127

== Fraca ==
         Cat A  Cat B
Grupo 1     20     17
Grupo 2     16     19
chi2=0.222, p=0.6372, n=72, phi=0.083, phi_from_chi2=0.056</code></pre>
</div>
</div>
</section></section>
<section id="análise-de-correlação" class="title-slide slide level1 center">
<h1>Análise de correlação</h1>
<div class="columns">
<p>Se <strong>duas variáveis têm valores que tendem a variar conjuntamente</strong>, dizemos que há correlação entre elas.</p>
</div>
</section>

<section>
<section id="diagrama-de-dispersão-scatterplot" class="title-slide slide level1 center">
<h1>Diagrama de dispersão (scatterplot)</h1>
<div class="columns">
<p>Existe correlação quando a nuvem de pontos está disposta na <strong>forma de uma elipse</strong>.</p><ul>
<li><p>A correlação é <strong>positiva</strong> quando X cresce e, em média, Y também cresce;</p></li>
<li><p>A correlação é <strong>negativa</strong> quando X cresce e, em média, Y decresce;</p></li>
</ul>
</div>
</section>
<section id="exemplo-diagrama-de-dispersão" class="slide level2 smaller center">
<h2>Exemplo: Diagrama de Dispersão</h2>
<div class="columns">
<div class="column">
<div id="dea038b1" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb23-2"><a href=""></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb23-3"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb23-4"><a href=""></a></span>
<span id="cb23-5"><a href=""></a>np.random.seed(<span class="dv">42</span>)</span>
<span id="cb23-6"><a href=""></a>x <span class="op">=</span> np.arange(<span class="dv">1</span>, <span class="dv">21</span>)</span>
<span id="cb23-7"><a href=""></a>y <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> x <span class="op">+</span> np.random.normal(<span class="dv">0</span>, <span class="dv">5</span>, size<span class="op">=</span>x.size)</span>
<span id="cb23-8"><a href=""></a></span>
<span id="cb23-9"><a href=""></a>df <span class="op">=</span> pd.DataFrame({<span class="st">"X"</span>: x, <span class="st">"Y"</span>: y})</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div><div class="column">
<div id="e242c947" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb24-2"><a href=""></a>sns.scatterplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, color<span class="op">=</span><span class="st">"#8be9fd"</span>, edgecolor<span class="op">=</span><span class="st">"#444"</span>)</span>
<span id="cb24-3"><a href=""></a>sns.regplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, scatter<span class="op">=</span><span class="va">False</span>, color<span class="op">=</span><span class="st">"#ff79c6"</span>)</span>
<span id="cb24-4"><a href=""></a>plt.title(<span class="st">"Correlação Positiva: Diagrama de Dispersão"</span>)</span>
<span id="cb24-5"><a href=""></a>plt.tight_layout()</span>
<span id="cb24-6"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-17-output-1.png" width="566" height="375"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section></section>
<section id="atenção" class="title-slide slide level1 center">
<h1>Atenção</h1>
<p>No dia a dia, não faz sentido calcular correlação entre X e Y se Y tiver sido criada em função de X.</p>
<p>Os código Python que geram vetores de X e Y são apenas exemplificativos, para visualização e compreensão de conceitos.</p>
</section>

<section>
<section id="força-da-correlação-e-o-diagrama-de-dispersão" class="title-slide slide level1 center">
<h1>Força da correlação e o diagrama de dispersão</h1>
<div class="columns">
<ul>
<li><p>Correlação <strong>forte</strong> forma uma elipse fechada em torno de uma reta</p></li>
<li><p>Correlação <strong>fraca</strong> forma uma elipse arredondada</p></li>
<li><p>A correlação <strong>nula</strong> é indicada por pontos dispersos</p></li>
</ul>
</div>
</section>
<section id="correlação-fraca" class="slide level2 center">
<h2>Correlação fraca</h2>
<div class="columns">
<div class="column">
<div id="ef4a1f90" class="cell" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href=""></a>np.random.seed(<span class="dv">123</span>)</span>
<span id="cb25-2"><a href=""></a>x_weak <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">100</span>)</span>
<span id="cb25-3"><a href=""></a>y_weak <span class="op">=</span> <span class="fl">0.3</span> <span class="op">*</span> x_weak <span class="op">+</span> np.random.normal(<span class="dv">0</span>, <span class="dv">5</span>, size<span class="op">=</span>x_weak.size)</span>
<span id="cb25-4"><a href=""></a></span>
<span id="cb25-5"><a href=""></a>df_weak <span class="op">=</span> pd.DataFrame({<span class="st">"X"</span>: x_weak, <span class="st">"Y"</span>: y_weak})</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div><div class="column">
<div id="9b21ed4e" class="cell" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb26-2"><a href=""></a>sns.scatterplot(data<span class="op">=</span>df_weak, x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, color<span class="op">=</span><span class="st">"#8be9fd"</span>, edgecolor<span class="op">=</span><span class="st">"#444"</span>, alpha<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb26-3"><a href=""></a>sns.regplot(data<span class="op">=</span>df_weak, x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, scatter<span class="op">=</span><span class="va">False</span>, color<span class="op">=</span><span class="st">"#ff79c6"</span>)</span>
<span id="cb26-4"><a href=""></a>plt.title(<span class="st">"Correlação Fraca: Diagrama de Dispersão"</span>)</span>
<span id="cb26-5"><a href=""></a>plt.tight_layout()</span>
<span id="cb26-6"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-19-output-1.png" width="566" height="375"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section></section>
<section>
<section id="correlação-linear-e-não-linear" class="title-slide slide level1 center">
<h1>Correlação linear e não linear</h1>
<div class="columns">
<ul>
<li><p>Correlação <strong>linear</strong>: nuvem de pontos em torno de uma reta</p></li>
<li><p>Correlação <strong>não linear</strong>: nuvem de pontos em torno de uma curva</p></li>
</ul>
</div>
</section>
<section id="correlação-não-linear" class="slide level2 center">
<h2>Correlação não linear</h2>
<div class="columns">
<div class="column">
<div id="9c91d059" class="cell" data-execution_count="19">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href=""></a>np.random.seed(<span class="dv">7</span>)</span>
<span id="cb27-2"><a href=""></a>x_nl <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">200</span>)</span>
<span id="cb27-3"><a href=""></a>y_nl <span class="op">=</span> np.sin(x_nl) <span class="op">*</span> <span class="dv">10</span> <span class="op">+</span> np.random.normal(<span class="dv">0</span>, <span class="fl">1.5</span>, size<span class="op">=</span>x_nl.size)</span>
<span id="cb27-4"><a href=""></a></span>
<span id="cb27-5"><a href=""></a>df_nl <span class="op">=</span> pd.DataFrame({<span class="st">"X"</span>: x_nl, <span class="st">"Y"</span>: y_nl})</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div><div class="column">
<div id="b2890fa1" class="cell" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb28-2"><a href=""></a>sns.scatterplot(data<span class="op">=</span>df_nl, x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, color<span class="op">=</span><span class="st">"#8be9fd"</span>, edgecolor<span class="op">=</span><span class="st">"#444"</span>, alpha<span class="op">=</span><span class="fl">0.85</span>)</span>
<span id="cb28-3"><a href=""></a><span class="co"># Curva média (suavização local)</span></span>
<span id="cb28-4"><a href=""></a>sns.regplot(data<span class="op">=</span>df_nl, x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, scatter<span class="op">=</span><span class="va">False</span>, lowess<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"#ff79c6"</span>)</span>
<span id="cb28-5"><a href=""></a>plt.title(<span class="st">"Correlação Não Linear: Y ≈ sin(X)"</span>)</span>
<span id="cb28-6"><a href=""></a>plt.tight_layout()</span>
<span id="cb28-7"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-21-output-1.png" width="566" height="375"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section></section>
<section id="pressupostos-para-o-cálculo-de-coeficiente-de-correlação" class="title-slide slide level1 center">
<h1>Pressupostos para o cálculo de coeficiente de correlação</h1>
<ul>
<li><p>Há unidades da amostra para X e para Y</p></li>
<li><p>Unidades foram selecionadas ao acaso e/ou são representativas de uma população</p></li>
<li><p>Variáveis X e Y são independentes</p></li>
</ul>
</section>

<section>
<section id="cálculo-de-coeficiente-de-correlação" class="title-slide slide level1 center">
<h1>Cálculo de coeficiente de correlação</h1>
<p>Uma das formas de calcular a <strong>correlação linear</strong> entre duas variáveis é através do <strong>coeficiente de correlação de Pearson</strong> (<strong><em>r</em></strong>).</p>
<ul>
<li><p>Valor de <em>r</em> pode variar entre -1 e 1</p></li>
<li><p><em>r</em> &gt; 0: correlação positiva</p></li>
<li><p><em>r</em> = 0: correlação é nula</p></li>
<li><p><em>r</em> &lt; 0: correlação é negativa</p></li>
</ul>
</section>
<section id="calculando-coeficiente-de-correlação-pearson-em-python" class="slide level2 center">
<h2>Calculando coeficiente de correlação Pearson em Python</h2>
<div class="columns">
<div id="4ef3f62f" class="cell" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href=""></a><span class="im">from</span> scipy.stats <span class="im">import</span> pearsonr</span>
<span id="cb29-2"><a href=""></a></span>
<span id="cb29-3"><a href=""></a>x <span class="op">=</span> np.arange(<span class="dv">1</span>, <span class="dv">21</span>)</span>
<span id="cb29-4"><a href=""></a>y <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> x <span class="op">+</span> np.random.normal(<span class="dv">0</span>, <span class="dv">5</span>, size<span class="op">=</span>x.size)</span>
<span id="cb29-5"><a href=""></a></span>
<span id="cb29-6"><a href=""></a>r, p <span class="op">=</span> pearsonr(x, y)</span>
<span id="cb29-7"><a href=""></a></span>
<span id="cb29-8"><a href=""></a><span class="bu">print</span>(<span class="st">'Coeficiente de correlação:'</span>, r)</span>
<span id="cb29-9"><a href=""></a><span class="bu">print</span>(<span class="st">'Valor p:'</span>, p)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Coeficiente de correlação: 0.9581797239025184
Valor p: 3.1920162685375574e-11</code></pre>
</div>
</div>
</div>
</section>
<section id="calculando-coeficiente-de-correlação-spearman" class="slide level2 center">
<h2>Calculando coeficiente de correlação Spearman</h2>
<div class="columns">
<div id="50d8ecaa" class="cell" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href=""></a><span class="im">from</span> scipy.stats <span class="im">import</span> spearmanr</span>
<span id="cb31-2"><a href=""></a></span>
<span id="cb31-3"><a href=""></a>r, p <span class="op">=</span> spearmanr(x, y)</span>
<span id="cb31-4"><a href=""></a></span>
<span id="cb31-5"><a href=""></a><span class="bu">print</span>(<span class="st">'Coeficiente de correlação:'</span>, r)</span>
<span id="cb31-6"><a href=""></a><span class="bu">print</span>(<span class="st">'Valor p:'</span>, p)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Coeficiente de correlação: 0.9684210526315788
Valor p: 2.6449829899729473e-12</code></pre>
</div>
</div>
</div>
</section>
<section id="dispersão-para-correlações-com-diferentes-forças" class="slide level2 center">
<h2>Dispersão para correlações com diferentes forças</h2>
<div class="columns">
<div id="b8d56fbf" class="cell" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href=""></a>np.random.seed(<span class="dv">2025</span>)</span>
<span id="cb33-2"><a href=""></a></span>
<span id="cb33-3"><a href=""></a><span class="kw">def</span> simulate_with_corr(n, rho):</span>
<span id="cb33-4"><a href=""></a>  x <span class="op">=</span> np.random.normal(size<span class="op">=</span>n)</span>
<span id="cb33-5"><a href=""></a>  e <span class="op">=</span> np.random.normal(size<span class="op">=</span>n)</span>
<span id="cb33-6"><a href=""></a>  y <span class="op">=</span> rho <span class="op">*</span> x <span class="op">+</span> np.sqrt(<span class="dv">1</span> <span class="op">-</span> rho<span class="op">**</span><span class="dv">2</span>) <span class="op">*</span> e</span>
<span id="cb33-7"><a href=""></a>  <span class="cf">return</span> pd.DataFrame({<span class="st">"X"</span>: x, <span class="st">"Y"</span>: y})</span>
<span id="cb33-8"><a href=""></a></span>
<span id="cb33-9"><a href=""></a>rhos <span class="op">=</span> [<span class="fl">0.25</span>, <span class="fl">0.50</span>, <span class="fl">0.75</span>, <span class="fl">0.99</span>]</span>
<span id="cb33-10"><a href=""></a>dfs <span class="op">=</span> {rho: simulate_with_corr(<span class="dv">500</span>, rho) <span class="cf">for</span> rho <span class="kw">in</span> rhos}</span>
<span id="cb33-11"><a href=""></a>corrs <span class="op">=</span> {rho: dfs[rho][<span class="st">"X"</span>].corr(dfs[rho][<span class="st">"Y"</span>]) <span class="cf">for</span> rho <span class="kw">in</span> rhos}</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</section>
<section id="dispersão-para-correlações-com-diferentes-forças-1" class="slide level2 smaller center">
<h2>Dispersão para correlações com diferentes forças</h2>
<div class="columns">
<div id="5cdefb87" class="cell" data-execution_count="24">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href=""></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">4</span>))</span>
<span id="cb34-2"><a href=""></a>axes <span class="op">=</span> axes.flatten()</span>
<span id="cb34-3"><a href=""></a><span class="cf">for</span> ax, rho <span class="kw">in</span> <span class="bu">zip</span>(axes, rhos):</span>
<span id="cb34-4"><a href=""></a>  sns.scatterplot(data<span class="op">=</span>dfs[rho], x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, color<span class="op">=</span><span class="st">"#8be9fd"</span>, edgecolor<span class="op">=</span><span class="st">"#444"</span>, alpha<span class="op">=</span><span class="fl">0.8</span>, ax<span class="op">=</span>ax)</span>
<span id="cb34-5"><a href=""></a>  sns.regplot(data<span class="op">=</span>dfs[rho], x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, scatter<span class="op">=</span><span class="va">False</span>, color<span class="op">=</span><span class="st">"#ff79c6"</span>, ax<span class="op">=</span>ax)</span>
<span id="cb34-6"><a href=""></a>  ax.set_title(<span class="ss">f"Alvo r=</span><span class="sc">{</span>rho<span class="sc">:.2f}</span><span class="ss"> | Pearson≈</span><span class="sc">{</span>corrs[rho]<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb34-7"><a href=""></a>plt.tight_layout()</span>
<span id="cb34-8"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-25-output-1.png" class="quarto-figure quarto-figure-center" width="662" height="374"></p>
</figure>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="análises-de-associação-e-correlação-com-o-dataset-dos-pinguins" class="title-slide slide level1 smaller center">
<h1>Análises de associação e correlação com o dataset dos pinguins</h1>

</section>
<section id="dataset-pinguins" class="slide level2 smaller center">
<h2>Dataset pinguins</h2>
<div class="columns">
<div class="column">
<div id="b6e9a458" class="cell" data-execution_count="25">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href=""></a><span class="im">from</span> palmerpenguins <span class="im">import</span> load_penguins</span>
<span id="cb35-2"><a href=""></a>penguins <span class="op">=</span> load_penguins()</span>
<span id="cb35-3"><a href=""></a>penguins.head()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">island</th>
<th data-quarto-table-cell-role="th">bill_length_mm</th>
<th data-quarto-table-cell-role="th">bill_depth_mm</th>
<th data-quarto-table-cell-role="th">flipper_length_mm</th>
<th data-quarto-table-cell-role="th">body_mass_g</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>39.1</td>
<td>18.7</td>
<td>181.0</td>
<td>3750.0</td>
<td>male</td>
<td>2007</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>39.5</td>
<td>17.4</td>
<td>186.0</td>
<td>3800.0</td>
<td>female</td>
<td>2007</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>40.3</td>
<td>18.0</td>
<td>195.0</td>
<td>3250.0</td>
<td>female</td>
<td>2007</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>2007</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>36.7</td>
<td>19.3</td>
<td>193.0</td>
<td>3450.0</td>
<td>female</td>
<td>2007</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div><div class="column">
<div id="dc5cf626" class="cell" data-execution_count="26">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href=""></a><span class="bu">print</span>(<span class="st">"Número de variáveis:</span><span class="ch">\n</span><span class="st">"</span>, penguins.columns)</span>
<span id="cb36-2"><a href=""></a><span class="bu">print</span>(<span class="st">"Dimensões do dataframe:</span><span class="ch">\n</span><span class="st">"</span>, penguins.shape)</span>
<span id="cb36-3"><a href=""></a><span class="bu">print</span>(<span class="st">"Tipo de dados:</span><span class="ch">\n</span><span class="st">"</span>, penguins.dtypes)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Número de variáveis:
 Index(['species', 'island', 'bill_length_mm', 'bill_depth_mm',
       'flipper_length_mm', 'body_mass_g', 'sex', 'year'],
      dtype='object')
Dimensões do dataframe:
 (344, 8)
Tipo de dados:
 species               object
island                object
bill_length_mm       float64
bill_depth_mm        float64
flipper_length_mm    float64
body_mass_g          float64
sex                   object
year                   int64
dtype: object</code></pre>
</div>
</div>
</div></div>
</section>
<section id="dataset-pinguins-1" class="slide level2 smaller center">
<h2>Dataset pinguins</h2>
<div class="columns">
<div id="35737539" class="cell" data-execution_count="27">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href=""></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Nulos por coluna:"</span>)</span>
<span id="cb38-2"><a href=""></a><span class="bu">print</span>(penguins.isna().<span class="bu">sum</span>())</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Nulos por coluna:
species               0
island                0
bill_length_mm        2
bill_depth_mm         2
flipper_length_mm     2
body_mass_g           2
sex                  11
year                  0
dtype: int64</code></pre>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---variáveis-categóricas" class="slide level2 smaller center">
<h2>Dataset pinguins - variáveis categóricas</h2>
<div class="columns">
<div class="column">
<div id="c141da3b" class="cell" data-execution_count="28">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href=""></a>counts <span class="op">=</span> {col: penguins[col].value_counts(dropna<span class="op">=</span><span class="va">False</span>) <span class="cf">for</span> col <span class="kw">in</span> [<span class="st">'species'</span>, <span class="st">'island'</span>, <span class="st">'sex'</span>]}</span>
<span id="cb40-2"><a href=""></a></span>
<span id="cb40-3"><a href=""></a><span class="bu">print</span>(<span class="st">"Counts (including NaN):"</span>)</span>
<span id="cb40-4"><a href=""></a><span class="cf">for</span> col, ser <span class="kw">in</span> counts.items():</span>
<span id="cb40-5"><a href=""></a>  <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">:</span><span class="ch">\n</span><span class="sc">{</span>ser<span class="sc">.</span>to_string()<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Counts (including NaN):

species:
species
Adelie       152
Gentoo       124
Chinstrap     68

island:
island
Biscoe       168
Dream        124
Torgersen     52

sex:
sex
male      168
female    165
NaN        11</code></pre>
</div>
</div>
</div><div class="column">
<div id="c2b00013" class="cell" data-execution_count="29">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href=""></a>tab_counts <span class="op">=</span> penguins.fillna({<span class="st">'sex'</span>: <span class="st">'missing'</span>}).groupby([<span class="st">'species'</span>, <span class="st">'sex'</span>, <span class="st">'island'</span>]).size().unstack(level<span class="op">=</span><span class="st">'island'</span>, fill_value<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb42-2"><a href=""></a><span class="bu">print</span>(<span class="st">"Counts of species × sex × island:"</span>)</span>
<span id="cb42-3"><a href=""></a><span class="bu">print</span>(tab_counts)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Counts of species × sex × island:
island             Biscoe  Dream  Torgersen
species   sex                              
Adelie    female       22     27         24
          male         22     28         23
          missing       0      1          5
Chinstrap female        0     34          0
          male          0     34          0
Gentoo    female       58      0          0
          male         61      0          0
          missing       5      0          0</code></pre>
</div>
</div>
</div></div>
</section>
<section id="dataset-pinguins---coletas-ao-longo-de-três-anos" class="slide level2 smaller center">
<h2>Dataset pinguins - coletas ao longo de três anos</h2>
<div class="columns">
<div id="55d3003b" class="cell" data-execution_count="30">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href=""></a><span class="co"># counts by year and species</span></span>
<span id="cb44-2"><a href=""></a>counts <span class="op">=</span> (</span>
<span id="cb44-3"><a href=""></a>  penguins.dropna(subset<span class="op">=</span>[<span class="st">'year'</span>,<span class="st">'species'</span>])</span>
<span id="cb44-4"><a href=""></a>  .groupby([<span class="st">'year'</span>,<span class="st">'species'</span>])</span>
<span id="cb44-5"><a href=""></a>  .size()</span>
<span id="cb44-6"><a href=""></a>  .reset_index(name<span class="op">=</span><span class="st">'count'</span>)</span>
<span id="cb44-7"><a href=""></a>)</span>
<span id="cb44-8"><a href=""></a></span>
<span id="cb44-9"><a href=""></a>pivot <span class="op">=</span> counts.pivot(index<span class="op">=</span><span class="st">'year'</span>, columns<span class="op">=</span><span class="st">'species'</span>, values<span class="op">=</span><span class="st">'count'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb44-10"><a href=""></a></span>
<span id="cb44-11"><a href=""></a>pivot.head()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">Adelie</th>
<th data-quarto-table-cell-role="th">Chinstrap</th>
<th data-quarto-table-cell-role="th">Gentoo</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">2007</th>
<td>50</td>
<td>26</td>
<td>34</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">2008</th>
<td>50</td>
<td>18</td>
<td>46</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2009</th>
<td>52</td>
<td>24</td>
<td>44</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---coletas-ao-longo-de-três-anos-1" class="slide level2 smaller center">
<h2>Dataset pinguins - coletas ao longo de três anos</h2>
<div class="columns">
<ul>
<li>Usando a função de dataframe <code>.plot()</code> (“stacked” ou “empilhado”):</li>
</ul><div id="b91f253f" class="cell" data-execution_count="31">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href=""></a>pivot.plot(kind<span class="op">=</span><span class="st">'bar'</span>, stacked<span class="op">=</span><span class="va">True</span>, colormap<span class="op">=</span><span class="st">'tab20'</span>, legend<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb45-2"><a href=""></a>          xlabel<span class="op">=</span><span class="st">'Year'</span>, ylabel<span class="op">=</span><span class="st">'Species'</span>, title<span class="op">=</span><span class="st">'Species collected by year'</span>, figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">4</span>))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-32-output-1.png" class="quarto-figure quarto-figure-center" width="667" height="396"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---coletas-ao-longo-de-três-anos-2" class="slide level2 smaller center">
<h2>Dataset pinguins - coletas ao longo de três anos</h2>
<div class="columns">
<ul>
<li>Usando Matplotlib:</li>
</ul><div id="7a82a0ad" class="cell" data-execution_count="32">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">3</span>))</span>
<span id="cb46-2"><a href=""></a>sns.barplot(data<span class="op">=</span>counts, x<span class="op">=</span><span class="st">'year'</span>, y<span class="op">=</span><span class="st">'count'</span>, hue<span class="op">=</span><span class="st">'species'</span>)</span>
<span id="cb46-3"><a href=""></a>plt.title(<span class="st">'Species collected by year (grouped)'</span>)</span>
<span id="cb46-4"><a href=""></a>plt.xlabel(<span class="st">'Year'</span>)</span>
<span id="cb46-5"><a href=""></a>plt.ylabel(<span class="st">'Count'</span>)</span>
<span id="cb46-6"><a href=""></a>plt.tight_layout()</span>
<span id="cb46-7"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-33-output-1.png" class="quarto-figure quarto-figure-center" width="566" height="278"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---variáveis-numéricas" class="slide level2 center">
<h2>Dataset pinguins - variáveis numéricas</h2>
<div class="columns">
<ul>
<li>Resumo numérico das colunas numéricas com float:</li>
</ul><div id="91b226ab" class="cell" data-execution_count="33">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href=""></a>penguins_float_data <span class="op">=</span> penguins.select_dtypes(include<span class="op">=</span><span class="st">'float64'</span>)</span>
<span id="cb47-2"><a href=""></a><span class="bu">print</span>(<span class="st">"Resumo numérico (apenas float64):"</span>)</span>
<span id="cb47-3"><a href=""></a><span class="bu">print</span>(penguins_float_data.describe().<span class="bu">round</span>(<span class="dv">3</span>))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Resumo numérico (apenas float64):
       bill_length_mm  bill_depth_mm  flipper_length_mm  body_mass_g
count         342.000        342.000            342.000      342.000
mean           43.922         17.151            200.915     4201.754
std             5.460          1.975             14.062      801.955
min            32.100         13.100            172.000     2700.000
25%            39.225         15.600            190.000     3550.000
50%            44.450         17.300            197.000     4050.000
75%            48.500         18.700            213.000     4750.000
max            59.600         21.500            231.000     6300.000</code></pre>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---resumindo-estatísticas-dos-pinguins" class="slide level2 center">
<h2>Dataset pinguins - resumindo estatísticas dos pinguins</h2>
<div class="columns">
<ul>
<li>Recuperando estatísticas para cada característica de pinguins:</li>
</ul><div id="a9e602c5" class="cell" data-execution_count="34">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href=""></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Estatísticas (média e desvio padrão) por espécie:"</span>)</span>
<span id="cb49-2"><a href=""></a>summary_species_traits <span class="op">=</span> penguins[[<span class="st">'species'</span>, <span class="st">'bill_length_mm'</span>, <span class="st">'bill_depth_mm'</span>,</span>
<span id="cb49-3"><a href=""></a>       <span class="st">'flipper_length_mm'</span>, <span class="st">'body_mass_g'</span>]].groupby(<span class="st">'species'</span>)[[<span class="st">'bill_length_mm'</span>, <span class="st">'bill_depth_mm'</span>,</span>
<span id="cb49-4"><a href=""></a>       <span class="st">'flipper_length_mm'</span>, <span class="st">'body_mass_g'</span>]].describe().<span class="bu">round</span>(<span class="dv">3</span>)</span>
<span id="cb49-5"><a href=""></a><span class="bu">print</span>(summary_species_traits.head())</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Estatísticas (média e desvio padrão) por espécie:
          bill_length_mm                                                   \
                   count    mean    std   min    25%    50%     75%   max   
species                                                                     
Adelie             151.0  38.791  2.663  32.1  36.75  38.80  40.750  46.0   
Chinstrap           68.0  48.834  3.339  40.9  46.35  49.55  51.075  58.0   
Gentoo             123.0  47.505  3.082  40.9  45.30  47.30  49.550  59.6   

          bill_depth_mm          ... flipper_length_mm        body_mass_g  \
                  count    mean  ...               75%    max       count   
species                          ...                                        
Adelie            151.0  18.346  ...             195.0  210.0       151.0   
Chinstrap          68.0  18.421  ...             201.0  212.0        68.0   
Gentoo            123.0  14.982  ...             221.0  231.0       123.0   

                                                                      
               mean      std     min     25%     50%     75%     max  
species                                                               
Adelie     3700.662  458.566  2850.0  3350.0  3700.0  4000.0  4775.0  
Chinstrap  3733.088  384.335  2700.0  3487.5  3700.0  3950.0  4800.0  
Gentoo     5076.016  504.116  3950.0  4700.0  5000.0  5500.0  6300.0  

[3 rows x 32 columns]</code></pre>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---resumindo-estatísticas-dos-pinguins-1" class="slide level2 center">
<h2>Dataset pinguins - resumindo estatísticas dos pinguins</h2>
<div class="columns">
<div id="159fe050" class="cell" data-execution_count="35">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href=""></a><span class="bu">print</span>(<span class="st">"Estatísticas de flipper length (mm) por espécie"</span>)</span>
<span id="cb51-2"><a href=""></a><span class="bu">print</span>(summary_species_traits[<span class="st">'flipper_length_mm'</span>])</span>
<span id="cb51-3"><a href=""></a><span class="bu">print</span>(<span class="st">"Apenas médias de flipper length"</span>)</span>
<span id="cb51-4"><a href=""></a><span class="bu">print</span>(summary_species_traits[(<span class="st">'flipper_length_mm'</span>, <span class="st">'mean'</span>)])</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Estatísticas de flipper length (mm) por espécie
           count     mean    std    min    25%    50%    75%    max
species                                                            
Adelie     151.0  189.954  6.539  172.0  186.0  190.0  195.0  210.0
Chinstrap   68.0  195.824  7.132  178.0  191.0  196.0  201.0  212.0
Gentoo     123.0  217.187  6.485  203.0  212.0  216.0  221.0  231.0
Apenas médias de flipper length
species
Adelie       189.954
Chinstrap    195.824
Gentoo       217.187
Name: (flipper_length_mm, mean), dtype: float64</code></pre>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---estatísticas-dos-flipper" class="slide level2 smaller center">
<h2>Dataset pinguins - estatísticas dos flipper</h2>
<div class="columns">
<div id="5c7bed78" class="cell" data-execution_count="36">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">4</span>))</span>
<span id="cb53-2"><a href=""></a>sns.kdeplot(</span>
<span id="cb53-3"><a href=""></a>  data<span class="op">=</span>penguins.dropna(subset<span class="op">=</span>[<span class="st">'flipper_length_mm'</span>,<span class="st">'species'</span>]),</span>
<span id="cb53-4"><a href=""></a>  x<span class="op">=</span><span class="st">'flipper_length_mm'</span>, hue<span class="op">=</span><span class="st">'species'</span>, fill<span class="op">=</span><span class="va">True</span>, common_norm<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb53-5"><a href=""></a>  alpha<span class="op">=</span><span class="fl">0.6</span></span>
<span id="cb53-6"><a href=""></a>)</span>
<span id="cb53-7"><a href=""></a>plt.title(<span class="st">'Distribuição de flipper_length_mm por espécie'</span>)</span>
<span id="cb53-8"><a href=""></a>plt.xlabel(<span class="st">'Flipper length (mm)'</span>)</span>
<span id="cb53-9"><a href=""></a>plt.tight_layout()</span>
<span id="cb53-10"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-37-output-1.png" class="quarto-figure quarto-figure-center" width="758" height="374"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---comprimento-dos-bicos" class="slide level2 smaller center">
<h2>Dataset pinguins - Comprimento dos bicos</h2>
<ul>
<li>O caderno <a href="https://rpubs.com/CJTA/948742">“Brief Analysis of Adelie Penguins”</a> de Christopher Taylor tem uma imagem mostrando depth e length.</li>
</ul>
<div class="columns">
<div id="d5ac3c78" class="cell" data-execution_count="37">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">3</span>))</span>
<span id="cb54-2"><a href=""></a>sns.kdeplot(</span>
<span id="cb54-3"><a href=""></a>  data<span class="op">=</span>penguins.dropna(subset<span class="op">=</span>[<span class="st">'bill_length_mm'</span>,<span class="st">'species'</span>]),</span>
<span id="cb54-4"><a href=""></a>  x<span class="op">=</span><span class="st">'bill_length_mm'</span>, hue<span class="op">=</span><span class="st">'species'</span>, fill<span class="op">=</span><span class="va">True</span>, common_norm<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb54-5"><a href=""></a>  alpha<span class="op">=</span><span class="fl">0.6</span></span>
<span id="cb54-6"><a href=""></a>)</span>
<span id="cb54-7"><a href=""></a>plt.title(<span class="st">'Distribuição de comprimento do bico por espécie'</span>)</span>
<span id="cb54-8"><a href=""></a>plt.xlabel(<span class="st">'Comprimento do bico (mm)'</span>)</span>
<span id="cb54-9"><a href=""></a>plt.tight_layout()</span>
<span id="cb54-10"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-38-output-1.png" class="quarto-figure quarto-figure-center" width="566" height="278"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---profundidade-dos-bicos" class="slide level2 smaller center">
<h2>Dataset pinguins - Profundidade dos bicos</h2>
<div class="columns">
<div id="b77ea1bc" class="cell" data-execution_count="38">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">4</span>))</span>
<span id="cb55-2"><a href=""></a>sns.kdeplot(</span>
<span id="cb55-3"><a href=""></a>  data<span class="op">=</span>penguins.dropna(subset<span class="op">=</span>[<span class="st">'bill_depth_mm'</span>,<span class="st">'species'</span>]),</span>
<span id="cb55-4"><a href=""></a>  x<span class="op">=</span><span class="st">'bill_depth_mm'</span>, hue<span class="op">=</span><span class="st">'species'</span>, fill<span class="op">=</span><span class="va">True</span>, common_norm<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb55-5"><a href=""></a>  alpha<span class="op">=</span><span class="fl">0.6</span></span>
<span id="cb55-6"><a href=""></a>)</span>
<span id="cb55-7"><a href=""></a>plt.title(<span class="st">'Distribuição de profundidade do bico por espécie'</span>)</span>
<span id="cb55-8"><a href=""></a>plt.xlabel(<span class="st">'Profundidade do bico (mm)'</span>)</span>
<span id="cb55-9"><a href=""></a>plt.tight_layout()</span>
<span id="cb55-10"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-39-output-1.png" class="quarto-figure quarto-figure-center" width="758" height="374"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---estatísticas-de-massa-corporal" class="slide level2 smaller center">
<h2>Dataset pinguins - estatísticas de massa corporal</h2>
<div class="columns">
<div id="a69e4dab" class="cell" data-execution_count="39">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">4</span>))</span>
<span id="cb56-2"><a href=""></a>sns.kdeplot(</span>
<span id="cb56-3"><a href=""></a>  data<span class="op">=</span>penguins.dropna(subset<span class="op">=</span>[<span class="st">'body_mass_g'</span>,<span class="st">'species'</span>]),</span>
<span id="cb56-4"><a href=""></a>  x<span class="op">=</span><span class="st">'body_mass_g'</span>, hue<span class="op">=</span><span class="st">'species'</span>, fill<span class="op">=</span><span class="va">True</span>, common_norm<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb56-5"><a href=""></a>  alpha<span class="op">=</span><span class="fl">0.6</span></span>
<span id="cb56-6"><a href=""></a>)</span>
<span id="cb56-7"><a href=""></a>plt.title(<span class="st">'Distribuição de massa corporal por espécie'</span>)</span>
<span id="cb56-8"><a href=""></a>plt.xlabel(<span class="st">'Massa corporal (g)'</span>)</span>
<span id="cb56-9"><a href=""></a>plt.tight_layout()</span>
<span id="cb56-10"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-40-output-1.png" class="quarto-figure quarto-figure-center" width="756" height="374"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="perguntas" class="slide level2 center">
<h2>Perguntas</h2>
<ul>
<li><p>As proporções de sexo coletadas para as espécies se mantêm ao longo dos anos?</p></li>
<li><p>Existe <strong>associação</strong> entre ilha e certas características dos pinguins? (Adelie é a única espécie distribuída nas três ilhas)</p></li>
<li><p>Há <strong>associação</strong> entre sexo e as ilha? (Adelie é a única espécie distribuída nas três ilhas)</p></li>
<li><p>Existe <strong>associação</strong> entre tamanho de bico e espécie?</p></li>
<li><p>Existe <strong>correlação</strong> entre tamanho e/ou profundidade do bico, flipper e massa corporal em uma ou mais espécies?</p></li>
<li><p>As <strong>correlações</strong> são significativas independente do sexo do pinguin?</p></li>
</ul>
</section>
<section id="tabelas-de-contingência---espécies-e-ilhas" class="slide level2 center">
<h2>Tabelas de contingência - espécies e ilhas</h2>
<div class="columns">
<ul>
<li><p>Apenas Adelie é observada nas três ilhas.</p></li>
<li><p>Não vale a pena testar casos óbvios, respondidos na análise exploratória. ??</p></li>
</ul><div id="fa5a3393" class="cell" data-execution_count="40">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href=""></a>tab_contingencia <span class="op">=</span> pd.crosstab(penguins[<span class="st">'island'</span>], penguins[<span class="st">'species'</span>])</span>
<span id="cb57-2"><a href=""></a><span class="bu">print</span>(<span class="st">'Tabela de contingência:'</span>)</span>
<span id="cb57-3"><a href=""></a><span class="bu">print</span>(tab_contingencia)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tabela de contingência:
species    Adelie  Chinstrap  Gentoo
island                              
Biscoe         44          0     124
Dream          56         68       0
Torgersen      52          0       0</code></pre>
</div>
</div>
</div>
</section>
<section id="tabelas-de-contingência---ilhas-e-sexo-adelie" class="slide level2 center">
<h2>Tabelas de contingência - ilhas e sexo (Adelie)</h2>
<div class="columns">
<ul>
<li><p>Tabela de contingência <strong>ilhas vs.&nbsp;sexo</strong></p></li>
<li><p>Como foi feita a coleta? Amostragem aleatória?</p></li>
</ul><div id="8bc12378" class="cell" data-execution_count="41">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href=""></a>pd.crosstab(penguins[penguins[<span class="st">'species'</span>]<span class="op">==</span><span class="st">'Adelie'</span>][<span class="st">'island'</span>], penguins[penguins[<span class="st">'species'</span>]<span class="op">==</span><span class="st">'Adelie'</span>][<span class="st">'sex'</span>])</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">female</th>
<th data-quarto-table-cell-role="th">male</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">island</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">Biscoe</th>
<td>22</td>
<td>22</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Dream</th>
<td>27</td>
<td>28</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Torgersen</th>
<td>24</td>
<td>23</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="tabelas-de-contingência---ilhas-e-sexo-adelie-1" class="slide level2 center">
<h2>Tabelas de contingência - ilhas e sexo (Adelie)</h2>
<div class="columns">
<div id="61609495" class="cell" data-execution_count="42">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href=""></a>adelie_df <span class="op">=</span> penguins.query(<span class="st">"species == 'Adelie'"</span>).copy()</span>
<span id="cb60-2"><a href=""></a>adelie_df.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb60-3"><a href=""></a>adelie_tab_freq <span class="op">=</span> pd.crosstab(adelie_df[<span class="st">'island'</span>], adelie_df[<span class="st">'sex'</span>])</span>
<span id="cb60-4"><a href=""></a><span class="bu">print</span>(<span class="st">'Tabela de contingência:'</span>)</span>
<span id="cb60-5"><a href=""></a><span class="bu">print</span>(adelie_tab_freq)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tabela de contingência:
sex        female  male
island                 
Biscoe         22    22
Dream          27    28
Torgersen      24    23</code></pre>
</div>
</div>
</div>
</section>
<section id="teste-qui-quadrado-de-pearson---ilhas-e-sexo-adelie" class="slide level2 smaller center">
<h2>Teste Qui-quadrado de Pearson - ilhas e sexo (Adelie)</h2>
<div class="columns">
<div id="8208f80a" class="cell" data-execution_count="43">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href=""></a>chi2_c, p_c, dof_c, expected_c <span class="op">=</span> chi2_contingency(adelie_tab_freq)</span>
<span id="cb62-2"><a href=""></a><span class="bu">print</span>(<span class="st">"Contingency table (island × sex):"</span>)</span>
<span id="cb62-3"><a href=""></a><span class="bu">print</span>(adelie_tab_freq)</span>
<span id="cb62-4"><a href=""></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Chi-square test of independence -&gt; chi2=</span><span class="sc">{</span>chi2_c<span class="sc">:.3f}</span><span class="ss">, p=</span><span class="sc">{</span>p_c<span class="sc">:.4f}</span><span class="ss">, df=</span><span class="sc">{</span>dof_c<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb62-5"><a href=""></a><span class="bu">print</span>(<span class="st">"Expected counts:"</span>)</span>
<span id="cb62-6"><a href=""></a><span class="bu">print</span>(pd.DataFrame(expected_c, index<span class="op">=</span>adelie_tab_freq.index, columns<span class="op">=</span>adelie_tab_freq.columns))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Contingency table (island × sex):
sex        female  male
island                 
Biscoe         22    22
Dream          27    28
Torgersen      24    23

Chi-square test of independence -&gt; chi2=0.039, p=0.9805, df=2
Expected counts:
sex        female  male
island                 
Biscoe       22.0  22.0
Dream        27.5  27.5
Torgersen    23.5  23.5</code></pre>
</div>
</div>
</div>
</section>
<section id="teste-qui-quadrado-de-pearson---ilhas-e-sexo-adelie-1" class="slide level2 smaller center">
<h2>Teste Qui-quadrado de Pearson - ilhas e sexo (Adelie)</h2>
<div class="columns">
<div id="2c9fb0f6" class="cell" data-execution_count="44">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href=""></a><span class="im">from</span> scipy.stats <span class="im">import</span> chi2</span>
<span id="cb64-2"><a href=""></a></span>
<span id="cb64-3"><a href=""></a>alpha <span class="op">=</span> <span class="fl">0.05</span></span>
<span id="cb64-4"><a href=""></a>chi2_crit <span class="op">=</span> chi2.ppf(<span class="dv">1</span> <span class="op">-</span> alpha, dof_c)</span>
<span id="cb64-5"><a href=""></a></span>
<span id="cb64-6"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Chi2 estatística = </span><span class="sc">{</span>chi2_c<span class="sc">:.3f}</span><span class="ss">, p-valor = </span><span class="sc">{</span>p_c<span class="sc">:.4f}</span><span class="ss">, df = </span><span class="sc">{</span>dof_c<span class="sc">}</span><span class="ss">, α = </span><span class="sc">{</span>alpha<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb64-7"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Valor crítico χ²(1-α, df) = </span><span class="sc">{</span>chi2_crit<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb64-8"><a href=""></a></span>
<span id="cb64-9"><a href=""></a><span class="cf">if</span> p_c <span class="op">&lt;</span> alpha <span class="kw">or</span> chi2_c <span class="op">&gt;=</span> chi2_crit:</span>
<span id="cb64-10"><a href=""></a>  <span class="bu">print</span>(<span class="st">"Resultado significativo: rejeita H0 -&gt; há evidência de associação entre ilha e sexo (Adelie)."</span>)</span>
<span id="cb64-11"><a href=""></a><span class="cf">else</span>:</span>
<span id="cb64-12"><a href=""></a>  <span class="bu">print</span>(<span class="st">"Resultado não significativo: falha em rejeitar H0 -&gt; sem evidência de associação entre ilha e sexo (Adelie)."</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Chi2 estatística = 0.039, p-valor = 0.9805, df = 2, α = 0.05
Valor crítico χ²(1-α, df) = 5.991
Resultado não significativo: falha em rejeitar H0 -&gt; sem evidência de associação entre ilha e sexo (Adelie).</code></pre>
</div>
</div>
</div>
</section>
<section id="tabelas-de-contingência-freq.-relativa---ilhas-e-sexo-adelie" class="slide level2 center">
<h2>Tabelas de contingência (freq. relativa) - ilhas e sexo (Adelie)</h2>
<div class="columns">
<div id="ed9cb94f" class="cell" data-execution_count="45">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href=""></a>adelie_tab_freq_relativa <span class="op">=</span> pd.crosstab(adelie_df[<span class="st">'island'</span>], adelie_df[<span class="st">'sex'</span>], normalize<span class="op">=</span><span class="st">'all'</span>)</span>
<span id="cb66-2"><a href=""></a><span class="bu">print</span>(<span class="st">'Tabela de contingência:'</span>)</span>
<span id="cb66-3"><a href=""></a><span class="bu">print</span>(adelie_tab_freq_relativa)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tabela de contingência:
sex          female      male
island                       
Biscoe     0.150685  0.150685
Dream      0.184932  0.191781
Torgersen  0.164384  0.157534</code></pre>
</div>
</div>
</div>
</section>
<section id="calculando-frequencias-relativas-pinguins" class="slide level2 center">
<h2>Calculando frequencias relativas pinguins</h2>
<div id="c18bbeb7" class="cell" data-execution_count="46">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href=""></a><span class="im">from</span> scipy.stats <span class="im">import</span> chisquare, chi2_contingency</span>
<span id="cb68-2"><a href=""></a></span>
<span id="cb68-3"><a href=""></a><span class="co"># islands observed for Adelie</span></span>
<span id="cb68-4"><a href=""></a>islands <span class="op">=</span> <span class="bu">sorted</span>(adelie_df[<span class="st">'island'</span>].dropna().unique())</span>
<span id="cb68-5"><a href=""></a></span>
<span id="cb68-6"><a href=""></a><span class="co"># 1) Goodness-of-fit: are counts equal across the three islands?</span></span>
<span id="cb68-7"><a href=""></a>obs_all <span class="op">=</span> adelie_df[<span class="st">'island'</span>].value_counts().reindex(islands, fill_value<span class="op">=</span><span class="dv">0</span>).values</span>
<span id="cb68-8"><a href=""></a>exp_all <span class="op">=</span> np.full_like(obs_all, obs_all.<span class="bu">sum</span>() <span class="op">/</span> obs_all.size, dtype<span class="op">=</span><span class="bu">float</span>)</span>
<span id="cb68-9"><a href=""></a>chi2_all, p_all <span class="op">=</span> chisquare(f_obs<span class="op">=</span>obs_all, f_exp<span class="op">=</span>exp_all)</span>
<span id="cb68-10"><a href=""></a><span class="bu">print</span>(<span class="st">"All Adelie (counts by island):"</span>, <span class="bu">dict</span>(<span class="bu">zip</span>(islands, obs_all)))</span>
<span id="cb68-11"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Goodness-of-fit -&gt; chi2=</span><span class="sc">{</span>chi2_all<span class="sc">:.3f}</span><span class="ss">, p=</span><span class="sc">{</span>p_all<span class="sc">:.4f}</span><span class="ss">, df=</span><span class="sc">{</span><span class="bu">len</span>(obs_all)<span class="op">-</span><span class="dv">1</span><span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb68-12"><a href=""></a></span>
<span id="cb68-13"><a href=""></a><span class="co"># 2) Same test separately for each sex</span></span>
<span id="cb68-14"><a href=""></a><span class="cf">for</span> sex <span class="kw">in</span> adelie_df[<span class="st">'sex'</span>].dropna().unique():</span>
<span id="cb68-15"><a href=""></a>  obs_sex <span class="op">=</span> adelie_df[adelie_df[<span class="st">'sex'</span>] <span class="op">==</span> sex][<span class="st">'island'</span>].value_counts().reindex(islands, fill_value<span class="op">=</span><span class="dv">0</span>).values</span>
<span id="cb68-16"><a href=""></a>  <span class="cf">if</span> obs_sex.<span class="bu">sum</span>() <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb68-17"><a href=""></a>    <span class="cf">continue</span></span>
<span id="cb68-18"><a href=""></a>  exp_sex <span class="op">=</span> np.full_like(obs_sex, obs_sex.<span class="bu">sum</span>() <span class="op">/</span> obs_sex.size, dtype<span class="op">=</span><span class="bu">float</span>)</span>
<span id="cb68-19"><a href=""></a>  chi2_s, p_s <span class="op">=</span> chisquare(f_obs<span class="op">=</span>obs_sex, f_exp<span class="op">=</span>exp_sex)</span>
<span id="cb68-20"><a href=""></a>  <span class="bu">print</span>(<span class="ss">f"Sex=</span><span class="sc">{</span>sex<span class="sc">}</span><span class="ss">: counts=</span><span class="sc">{</span><span class="bu">dict</span>(<span class="bu">zip</span>(islands, obs_sex))<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb68-21"><a href=""></a>  <span class="bu">print</span>(<span class="ss">f"  Goodness-of-fit -&gt; chi2=</span><span class="sc">{</span>chi2_s<span class="sc">:.3f}</span><span class="ss">, p=</span><span class="sc">{</span>p_s<span class="sc">:.4f}</span><span class="ss">, df=</span><span class="sc">{</span><span class="bu">len</span>(obs_sex)<span class="op">-</span><span class="dv">1</span><span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb68-22"><a href=""></a></span>
<span id="cb68-23"><a href=""></a><span class="co"># 3) Contingency test (island vs sex) as alternative (tests independence)</span></span>
<span id="cb68-24"><a href=""></a>tab <span class="op">=</span> pd.crosstab(adelie_df[<span class="st">'island'</span>], adelie_df[<span class="st">'sex'</span>])</span>
<span id="cb68-25"><a href=""></a>chi2_c, p_c, dof_c, expected_c <span class="op">=</span> chi2_contingency(tab)</span>
<span id="cb68-26"><a href=""></a><span class="bu">print</span>(<span class="st">"Contingency table (island × sex):"</span>)</span>
<span id="cb68-27"><a href=""></a><span class="bu">print</span>(tab)</span>
<span id="cb68-28"><a href=""></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Chi-square test of independence -&gt; chi2=</span><span class="sc">{</span>chi2_c<span class="sc">:.3f}</span><span class="ss">, p=</span><span class="sc">{</span>p_c<span class="sc">:.4f}</span><span class="ss">, df=</span><span class="sc">{</span>dof_c<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb68-29"><a href=""></a><span class="bu">print</span>(<span class="st">"Expected counts:"</span>)</span>
<span id="cb68-30"><a href=""></a><span class="bu">print</span>(pd.DataFrame(expected_c, index<span class="op">=</span>tab.index, columns<span class="op">=</span>tab.columns))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>All Adelie (counts by island): {'Biscoe': np.int64(44), 'Dream': np.int64(56), 'Torgersen': np.int64(52)}
Goodness-of-fit -&gt; chi2=1.474, p=0.4786, df=2

Sex=male: counts={'Biscoe': np.int64(22), 'Dream': np.int64(28), 'Torgersen': np.int64(23)}
  Goodness-of-fit -&gt; chi2=0.849, p=0.6540, df=2

Sex=female: counts={'Biscoe': np.int64(22), 'Dream': np.int64(27), 'Torgersen': np.int64(24)}
  Goodness-of-fit -&gt; chi2=0.521, p=0.7708, df=2

Contingency table (island × sex):
sex        female  male
island                 
Biscoe         22    22
Dream          27    28
Torgersen      24    23

Chi-square test of independence -&gt; chi2=0.039, p=0.9805, df=2
Expected counts:
sex        female  male
island                 
Biscoe       22.0  22.0
Dream        27.5  27.5
Torgersen    23.5  23.5</code></pre>
</div>
</div>
</section></section>
<section>
<section id="análise-de-regressão" class="title-slide slide level1 center">
<h1>Análise de regressão</h1>
<div class="columns">
<p>A análise de regressão permite examinar o efeito de uma <strong>variável explicativa</strong> (ou mais de uma) sobre uma <strong>variável resposta</strong>.</p><ul>
<li>Vamos analisar <strong>regressão linear</strong> entre <em>duas variáveis</em></li>
</ul>
</div>
</section>
<section id="equação-da-reta" class="slide level2 center">
<h2>Equação da reta</h2>
<div class="columns">
<p>Equação da reta (modelo linear simples):</p><p><span class="math display">\[
Y_i = a + b\,X_i
\]</span></p><ul>
<li>α (alpha) é o intercepto (termo constante)</li>
<li>β (beta) é o coeficiente angular (inclinação)</li>
</ul>
</div>
</section></section>
<section>
<section id="valores-de-coeficientes" class="title-slide slide level1 center">
<h1>Valores de coeficientes</h1>
<div class="columns">
<p>Diferentes valores de coeficiente angular:</p><div id="8eb27eab" class="cell" data-execution_count="47">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href=""></a>rng <span class="op">=</span> np.random.default_rng(<span class="dv">2025</span>)</span>
<span id="cb70-2"><a href=""></a>n <span class="op">=</span> <span class="dv">60</span></span>
<span id="cb70-3"><a href=""></a>x <span class="op">=</span> rng.uniform(<span class="dv">0</span>, <span class="dv">10</span>, size<span class="op">=</span>n)</span>
<span id="cb70-4"><a href=""></a></span>
<span id="cb70-5"><a href=""></a>slopes <span class="op">=</span> [(<span class="op">-</span><span class="fl">1.8</span>, <span class="st">"Negativa"</span>), (<span class="fl">0.0</span>, <span class="st">"Nula"</span>), (<span class="fl">1.5</span>, <span class="st">"Positiva"</span>)]</span>
<span id="cb70-6"><a href=""></a>intercept <span class="op">=</span> <span class="fl">2.0</span></span>
<span id="cb70-7"><a href=""></a>noise_scale <span class="op">=</span> <span class="fl">1.8</span></span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</section>
<section id="valores-de-coeficientes-lineares-intercepto" class="slide level2 smaller center">
<h2>Valores de coeficientes lineares (intercepto)</h2>
<div class="columns">
<div id="5bde29fb" class="cell" data-execution_count="48">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href=""></a>intercepts <span class="op">=</span> [<span class="op">-</span><span class="fl">3.0</span>, <span class="fl">0.0</span>, <span class="fl">4.5</span>]</span>
<span id="cb71-2"><a href=""></a>slope <span class="op">=</span> <span class="fl">1.2</span></span>
<span id="cb71-3"><a href=""></a>noise_scale <span class="op">=</span> <span class="fl">1.8</span></span>
<span id="cb71-4"><a href=""></a></span>
<span id="cb71-5"><a href=""></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="bu">len</span>(intercepts), figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">3</span>))</span>
<span id="cb71-6"><a href=""></a>x_line <span class="op">=</span> np.linspace(x.<span class="bu">min</span>(), x.<span class="bu">max</span>(), <span class="dv">200</span>)</span>
<span id="cb71-7"><a href=""></a></span>
<span id="cb71-8"><a href=""></a><span class="cf">for</span> ax, a <span class="kw">in</span> <span class="bu">zip</span>(axes, intercepts):</span>
<span id="cb71-9"><a href=""></a>  y <span class="op">=</span> a <span class="op">+</span> slope <span class="op">*</span> x <span class="op">+</span> rng.normal(<span class="dv">0</span>, noise_scale, size<span class="op">=</span>n)</span>
<span id="cb71-10"><a href=""></a>  ax.scatter(x, y, c<span class="op">=</span><span class="st">"#8be9fd"</span>, edgecolors<span class="op">=</span><span class="st">"#444"</span>, alpha<span class="op">=</span><span class="fl">0.85</span>)</span>
<span id="cb71-11"><a href=""></a>  ax.plot(x_line, a <span class="op">+</span> slope <span class="op">*</span> x_line, color<span class="op">=</span><span class="st">"#ff79c6"</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb71-12"><a href=""></a>  ax.set_title(<span class="ss">f"Intercepto a=</span><span class="sc">{</span>a<span class="sc">:+.1f}</span><span class="ss"> | Inclinação b=</span><span class="sc">{</span>slope<span class="sc">:+.2f}</span><span class="ss">"</span>)</span>
<span id="cb71-13"><a href=""></a>  ax.set_xlabel(<span class="st">"X"</span>)</span>
<span id="cb71-14"><a href=""></a>  ax.set_ylabel(<span class="st">"Y"</span>)</span>
<span id="cb71-15"><a href=""></a>  ax.grid(alpha<span class="op">=</span><span class="fl">0.25</span>)</span>
<span id="cb71-16"><a href=""></a></span>
<span id="cb71-17"><a href=""></a>plt.tight_layout()</span>
<span id="cb71-18"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-49-output-1.png" class="quarto-figure quarto-figure-center" width="975" height="279"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="valores-de-coeficientes-angulares" class="slide level2 smaller center">
<h2>Valores de coeficientes angulares</h2>
<div class="columns">
<div id="5dec47d0" class="cell" data-execution_count="49">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href=""></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">11</span>, <span class="fl">3.5</span>))</span>
<span id="cb72-2"><a href=""></a>x_line <span class="op">=</span> np.linspace(x.<span class="bu">min</span>(), x.<span class="bu">max</span>(), <span class="dv">200</span>)</span>
<span id="cb72-3"><a href=""></a></span>
<span id="cb72-4"><a href=""></a><span class="cf">for</span> ax, (b, label) <span class="kw">in</span> <span class="bu">zip</span>(axes, slopes):</span>
<span id="cb72-5"><a href=""></a>  y <span class="op">=</span> intercept <span class="op">+</span> b <span class="op">*</span> x <span class="op">+</span> rng.normal(<span class="dv">0</span>, noise_scale, size<span class="op">=</span>n)</span>
<span id="cb72-6"><a href=""></a>  ax.scatter(x, y, c<span class="op">=</span><span class="st">"#8be9fd"</span>, edgecolors<span class="op">=</span><span class="st">"#444"</span>, alpha<span class="op">=</span><span class="fl">0.85</span>)</span>
<span id="cb72-7"><a href=""></a>  ax.plot(x_line, intercept <span class="op">+</span> b <span class="op">*</span> x_line, color<span class="op">=</span><span class="st">"#ff79c6"</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb72-8"><a href=""></a>  ax.set_title(<span class="ss">f"Inclinação </span><span class="sc">{</span>label<span class="sc">}</span><span class="ss">: b=</span><span class="sc">{</span>b<span class="sc">:+.2f}</span><span class="ss">"</span>)</span>
<span id="cb72-9"><a href=""></a>  ax.set_xlabel(<span class="st">"X"</span>)</span>
<span id="cb72-10"><a href=""></a>  ax.set_ylabel(<span class="st">"Y"</span>)</span>
<span id="cb72-11"><a href=""></a>  ax.grid(alpha<span class="op">=</span><span class="fl">0.25</span>)</span>
<span id="cb72-12"><a href=""></a></span>
<span id="cb72-13"><a href=""></a>plt.tight_layout()</span>
<span id="cb72-14"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-50-output-1.png" class="quarto-figure quarto-figure-center" width="1046" height="327"></p>
</figure>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="regressão-linear-simples" class="title-slide slide level1 center">
<h1>Regressão linear simples</h1>
<p>Vamos <strong>ajustar uma regressão linear simples</strong> a um conjunto de dados.</p>
<ul>
<li>Linear: reta</li>
<li>Simples: apenas uma variável explicativa</li>
</ul>
</section>
<section id="obtenção-do-coeficiente-angular" class="slide level2 center">
<h2>Obtenção do coeficiente angular</h2>
<div class="columns">
<p><span class="math display">\[
b = \frac{\sum_{i=1}^n (x_i - \bar{x})(y_i - \bar{y})}{\sum_{i=1}^n (x_i - \bar{x})^2}
\]</span></p>
</div>
</section>
<section id="obtenção-do-coeficiente-linear-intercepto" class="slide level2 center">
<h2>Obtenção do coeficiente linear (intercepto)</h2>
<div class="columns">
<p><span class="math display">\[
a = \bar{y} - b\,\bar{x}
\]</span></p>
</div>
</section>
<section id="pontos-criados-a-partir-dos-coeficientes" class="slide level2 smaller center">
<h2>Pontos criados a partir dos coeficientes</h2>
<div class="columns">
<div class="column">
<div id="0c2bd2f6" class="cell" data-execution_count="50">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href=""></a>a_coef <span class="op">=</span> <span class="fl">2.16</span></span>
<span id="cb73-2"><a href=""></a>b_coef <span class="op">=</span> <span class="op">-</span><span class="fl">0.985</span></span>
<span id="cb73-3"><a href=""></a>rng_sim <span class="op">=</span> np.random.default_rng(<span class="dv">2027</span>)</span>
<span id="cb73-4"><a href=""></a>x_sim <span class="op">=</span> rng_sim.uniform(<span class="op">-</span><span class="dv">15</span>, <span class="dv">15</span>, size<span class="op">=</span><span class="dv">40</span>)</span>
<span id="cb73-5"><a href=""></a>y_sim <span class="op">=</span> a_coef <span class="op">+</span> b_coef <span class="op">*</span> x_sim <span class="op">+</span> rng_sim.normal(<span class="dv">0</span>, <span class="fl">1.0</span>, size<span class="op">=</span>x_sim.size)</span>
<span id="cb73-6"><a href=""></a>df_sim <span class="op">=</span> pd.DataFrame({<span class="st">"X"</span>: x_sim, <span class="st">"Y"</span>: y_sim}).sort_values(<span class="st">"X"</span>).reset_index(drop<span class="op">=</span><span class="va">True</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div><div class="column">
<div id="3cc3eed5" class="cell" data-execution_count="51">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href=""></a>df_sim.head(<span class="dv">10</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">X</th>
<th data-quarto-table-cell-role="th">Y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>-14.759836</td>
<td>18.204793</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>-14.731779</td>
<td>16.792989</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>-14.132152</td>
<td>15.510045</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>-13.764501</td>
<td>15.869164</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>-13.534483</td>
<td>16.053059</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">5</th>
<td>-12.524382</td>
<td>14.829747</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">6</th>
<td>-12.304568</td>
<td>13.998501</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">7</th>
<td>-11.944441</td>
<td>14.124252</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">8</th>
<td>-10.950171</td>
<td>13.558212</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">9</th>
<td>-10.807573</td>
<td>11.766186</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div></div>
</section>
<section id="pontos-criados-a-partir-dos-coeficientes-1" class="slide level2 smaller center">
<h2>Pontos criados a partir dos coeficientes</h2>
<div class="columns">
<div id="3ce49677" class="cell" data-execution_count="52">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb75-2"><a href=""></a>sns.scatterplot(data<span class="op">=</span>df_sim, x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, color<span class="op">=</span><span class="st">"#8be9fd"</span>, edgecolor<span class="op">=</span><span class="st">"#444"</span>, alpha<span class="op">=</span><span class="fl">0.85</span>)</span>
<span id="cb75-3"><a href=""></a>plt.title(<span class="st">"Pontos simulados (df_sim)"</span>)</span>
<span id="cb75-4"><a href=""></a>plt.xlabel(<span class="st">"X"</span>)</span>
<span id="cb75-5"><a href=""></a>plt.ylabel(<span class="st">"Y"</span>)</span>
<span id="cb75-6"><a href=""></a>plt.tight_layout()</span>
<span id="cb75-7"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-53-output-1.png" class="quarto-figure quarto-figure-center" width="566" height="374"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="condições-para-ajuste-da-regressão-linear-simples" class="slide level2 center">
<h2>Condições para ajuste da regressão linear simples</h2>
<ul>
<li><p>Variáveis devem ser <strong>contínuas</strong></p></li>
<li><p>Relação entre elas deve ser <strong>linear</strong></p></li>
<li><p>Observações devem ser <strong>independentes</strong></p></li>
</ul>
<p>Não trataremos de casos envolvendo variáveis discretas (embora esta análise de regressão seja possível)</p>
</section>
<section id="escolha-de-variáveis-explicativas" class="slide level2 center">
<h2>Escolha de variáveis explicativas</h2>
<div class="columns">

</div>
</section>
<section id="extrapolação" class="slide level2 center">
<h2>Extrapolação</h2>
<div class="columns">

</div>
</section></section>
<section>
<section id="análises-de-regressão-linear-com-o-dataset-dos-pinguins" class="title-slide slide level1 smaller center">
<h1>Análises de regressão linear com o dataset dos pinguins</h1>

</section>
<section id="dataset-pinguins-2" class="slide level2 smaller center">
<h2>Dataset pinguins</h2>
<div class="columns">
<div id="ccc26c58" class="cell" data-execution_count="53">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href=""></a><span class="im">from</span> palmerpenguins <span class="im">import</span> load_penguins</span>
<span id="cb76-2"><a href=""></a>penguins <span class="op">=</span> load_penguins()</span>
<span id="cb76-3"><a href=""></a>penguins.head()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">island</th>
<th data-quarto-table-cell-role="th">bill_length_mm</th>
<th data-quarto-table-cell-role="th">bill_depth_mm</th>
<th data-quarto-table-cell-role="th">flipper_length_mm</th>
<th data-quarto-table-cell-role="th">body_mass_g</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>39.1</td>
<td>18.7</td>
<td>181.0</td>
<td>3750.0</td>
<td>male</td>
<td>2007</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>39.5</td>
<td>17.4</td>
<td>186.0</td>
<td>3800.0</td>
<td>female</td>
<td>2007</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>40.3</td>
<td>18.0</td>
<td>195.0</td>
<td>3250.0</td>
<td>female</td>
<td>2007</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>2007</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>36.7</td>
<td>19.3</td>
<td>193.0</td>
<td>3450.0</td>
<td>female</td>
<td>2007</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="objetivos-das-análises-com-o-dataset-dos-pinguins" class="slide level2 center">
<h2>Objetivos das análises com o dataset dos pinguins</h2>
<div class="columns">
<ul>
<li><p>Construir um modelo de regressão linear</p></li>
<li><p>Avaliar a qualidade do modelo</p></li>
<li><p>Verificar se as premissas da análise são cumpridas</p></li>
<li><p>Fazer predições</p></li>
</ul>
</div>
</section>
<section id="dataset-pinguins-3" class="slide level2 smaller center">
<h2>Dataset pinguins</h2>
<div class="columns">
<div id="4e518cc3" class="cell" data-execution_count="54">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href=""></a>penguins_subset <span class="op">=</span> penguins[[<span class="st">'species'</span>, <span class="st">'bill_length_mm'</span>, <span class="st">'bill_depth_mm'</span>,</span>
<span id="cb77-2"><a href=""></a>       <span class="st">'flipper_length_mm'</span>, <span class="st">'body_mass_g'</span>]]</span>
<span id="cb77-3"><a href=""></a>penguins_subset.head()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">bill_length_mm</th>
<th data-quarto-table-cell-role="th">bill_depth_mm</th>
<th data-quarto-table-cell-role="th">flipper_length_mm</th>
<th data-quarto-table-cell-role="th">body_mass_g</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>Adelie</td>
<td>39.1</td>
<td>18.7</td>
<td>181.0</td>
<td>3750.0</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>Adelie</td>
<td>39.5</td>
<td>17.4</td>
<td>186.0</td>
<td>3800.0</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>Adelie</td>
<td>40.3</td>
<td>18.0</td>
<td>195.0</td>
<td>3250.0</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>Adelie</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>Adelie</td>
<td>36.7</td>
<td>19.3</td>
<td>193.0</td>
<td>3450.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="dados-faltantes-no-dataset-de-pinguins" class="slide level2 smaller center">
<h2>Dados faltantes no dataset de pinguins</h2>
<div class="columns">
<ul>
<li>Não é possível fazer a análise com dados faltantes! (sim, o dia a dia é cheio de exceções rs veremos isso novamente amanhã)</li>
</ul><div id="2630f372" class="cell" data-execution_count="55">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href=""></a><span class="bu">print</span>(<span class="st">"Dimensões do dataframe depois:</span><span class="ch">\n</span><span class="st">"</span>, penguins_subset.shape)</span>
<span id="cb78-2"><a href=""></a>na_counts <span class="op">=</span> penguins_subset.isna().<span class="bu">sum</span>()</span>
<span id="cb78-3"><a href=""></a><span class="bu">print</span>(<span class="st">"Dados faltantes por coluna:</span><span class="ch">\n</span><span class="st">"</span>, na_counts)</span>
<span id="cb78-4"><a href=""></a>penguins_subset <span class="op">=</span> penguins_subset.dropna(subset<span class="op">=</span>[<span class="st">"bill_length_mm"</span>])</span>
<span id="cb78-5"><a href=""></a><span class="bu">print</span>(<span class="st">"Dimensões do dataframe depois:</span><span class="ch">\n</span><span class="st">"</span>, penguins_subset.shape)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Dimensões do dataframe depois:
 (344, 5)
Dados faltantes por coluna:
 species              0
bill_length_mm       2
bill_depth_mm        2
flipper_length_mm    2
body_mass_g          2
dtype: int64
Dimensões do dataframe depois:
 (342, 5)</code></pre>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---dados-bico" class="slide level2 smaller center">
<h2>Dataset pinguins - dados bico</h2>
<div class="columns">
<div id="585b8d4f" class="cell" data-execution_count="56">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href=""></a>df_plot <span class="op">=</span> penguins_subset.dropna(subset<span class="op">=</span>[<span class="st">'bill_depth_mm'</span>, <span class="st">'bill_length_mm'</span>])</span>
<span id="cb80-2"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb80-3"><a href=""></a>sns.scatterplot(data<span class="op">=</span>df_plot, x<span class="op">=</span><span class="st">'bill_depth_mm'</span>, y<span class="op">=</span><span class="st">'bill_length_mm'</span>,</span>
<span id="cb80-4"><a href=""></a>        color<span class="op">=</span><span class="st">'#8be9fd'</span>, edgecolor<span class="op">=</span><span class="st">'#444'</span>, alpha<span class="op">=</span><span class="fl">0.85</span>)</span>
<span id="cb80-5"><a href=""></a>plt.xlabel(<span class="st">'Profundadide do bico (mm)'</span>)</span>
<span id="cb80-6"><a href=""></a>plt.ylabel(<span class="st">'Comprimento do bico (mm)'</span>)</span>
<span id="cb80-7"><a href=""></a>plt.title(<span class="st">'Profundidade vs. Comprimento bico'</span>)</span>
<span id="cb80-8"><a href=""></a>plt.tight_layout()</span>
<span id="cb80-9"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-57-output-1.png" class="quarto-figure quarto-figure-center" width="566" height="374"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="dataset-pinguins---bico-ou-nadadeira-vs.-massa-corporal" class="slide level2 smaller center">
<h2>Dataset pinguins - bico ou nadadeira vs.&nbsp;massa corporal</h2>
<div class="columns">
<div class="column">
<div id="078712b7" class="cell" data-execution_count="57">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href=""></a>df_plot <span class="op">=</span> penguins_subset.dropna(subset<span class="op">=</span>[<span class="st">'body_mass_g'</span>, <span class="st">'bill_depth_mm'</span>])</span>
<span id="cb81-2"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb81-3"><a href=""></a>sns.scatterplot(data<span class="op">=</span>df_plot, x<span class="op">=</span><span class="st">'body_mass_g'</span>, y<span class="op">=</span><span class="st">'bill_depth_mm'</span>,</span>
<span id="cb81-4"><a href=""></a>        color<span class="op">=</span><span class="st">'#8be9fd'</span>, edgecolor<span class="op">=</span><span class="st">'#444'</span>, alpha<span class="op">=</span><span class="fl">0.85</span>)</span>
<span id="cb81-5"><a href=""></a>plt.xlabel(<span class="st">'Massa corporal (g)'</span>)</span>
<span id="cb81-6"><a href=""></a>plt.ylabel(<span class="st">'Profundidade do bico (mm)'</span>)</span>
<span id="cb81-7"><a href=""></a>plt.title(<span class="st">'Massa corporal vs. Profundidade bico'</span>)</span>
<span id="cb81-8"><a href=""></a>plt.tight_layout()</span>
<span id="cb81-9"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-58-output-1.png" class="quarto-figure quarto-figure-center" width="566" height="374"></p>
</figure>
</div>
</div>
</div>
</div><div class="column">
<div id="ae3372a5" class="cell" data-execution_count="58">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href=""></a>df_plot <span class="op">=</span> penguins_subset.dropna(subset<span class="op">=</span>[<span class="st">'body_mass_g'</span>, <span class="st">'bill_length_mm'</span>])</span>
<span id="cb82-2"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb82-3"><a href=""></a>sns.scatterplot(data<span class="op">=</span>df_plot, x<span class="op">=</span><span class="st">'body_mass_g'</span>, y<span class="op">=</span><span class="st">'bill_length_mm'</span>,</span>
<span id="cb82-4"><a href=""></a>        color<span class="op">=</span><span class="st">'#8be9fd'</span>, edgecolor<span class="op">=</span><span class="st">'#444'</span>, alpha<span class="op">=</span><span class="fl">0.85</span>)</span>
<span id="cb82-5"><a href=""></a>plt.xlabel(<span class="st">'Massa corporal (g)'</span>)</span>
<span id="cb82-6"><a href=""></a>plt.ylabel(<span class="st">'Comprimento do bico (mm)'</span>)</span>
<span id="cb82-7"><a href=""></a>plt.title(<span class="st">'Massa corporal vs. Comprimento bico'</span>)</span>
<span id="cb82-8"><a href=""></a>plt.tight_layout()</span>
<span id="cb82-9"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-59-output-1.png" class="quarto-figure quarto-figure-center" width="566" height="374"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="criando-o-modelo-linear" class="slide level2 smaller center">
<h2>Criando o modelo linear</h2>
<div class="columns">
<div id="d908f7de" class="cell" data-execution_count="59">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href=""></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb83-2"><a href=""></a></span>
<span id="cb83-3"><a href=""></a>lin_reg <span class="op">=</span> LinearRegression()</span>
<span id="cb83-4"><a href=""></a>lin_reg.fit(penguins_subset[[<span class="st">'body_mass_g'</span>]],</span>
<span id="cb83-5"><a href=""></a>  penguins_subset[[<span class="st">'bill_depth_mm'</span>]])</span>
<span id="cb83-6"><a href=""></a><span class="bu">print</span>(lin_reg.intercept_, lin_reg.coef_)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[22.03394649] [[-0.00116208]]</code></pre>
</div>
</div>
</div>
</section>
<section id="avaliando-o-modelo-linear" class="slide level2 smaller center">
<h2>Avaliando o modelo linear</h2>
<div class="columns">
<div id="82a0a8b2" class="cell" data-execution_count="60">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href=""></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb85-2"><a href=""></a><span class="im">from</span> statsmodels.stats.diagnostic <span class="im">import</span> het_breuschpagan</span>
<span id="cb85-3"><a href=""></a></span>
<span id="cb85-4"><a href=""></a><span class="co"># ensure same rows used for fitting</span></span>
<span id="cb85-5"><a href=""></a>df_model <span class="op">=</span> penguins_subset.dropna(subset<span class="op">=</span>[<span class="st">'body_mass_g'</span>, <span class="st">'bill_depth_mm'</span>]).copy()</span>
<span id="cb85-6"><a href=""></a>X <span class="op">=</span> df_model[[<span class="st">'body_mass_g'</span>]].values</span>
<span id="cb85-7"><a href=""></a>y <span class="op">=</span> df_model[<span class="st">'bill_depth_mm'</span>].values</span>
<span id="cb85-8"><a href=""></a></span>
<span id="cb85-9"><a href=""></a><span class="co"># predictions and residuals</span></span>
<span id="cb85-10"><a href=""></a>y_pred <span class="op">=</span> lin_reg.predict(X).ravel()</span>
<span id="cb85-11"><a href=""></a>resid <span class="op">=</span> y <span class="op">-</span> y_pred</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</section>
<section id="avaliando-o-modelo-linear---normalidade-dos-resíduos" class="slide level2 smaller center">
<h2>Avaliando o modelo linear - Normalidade dos resíduos</h2>
<div class="columns">
<div id="e79bf630" class="cell" data-execution_count="61">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb86-2"><a href=""></a>sns.histplot(resid, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"#8be9fd"</span>, edgecolor<span class="op">=</span><span class="st">"#444"</span>, stat<span class="op">=</span><span class="st">"density"</span>)</span>
<span id="cb86-3"><a href=""></a>plt.axvline(np.mean(resid), color<span class="op">=</span><span class="st">"#ff79c6"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, linewidth<span class="op">=</span><span class="fl">1.5</span>, label<span class="op">=</span><span class="ss">f"mean=</span><span class="sc">{</span>resid<span class="sc">.</span>mean()<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb86-4"><a href=""></a>plt.xlabel(<span class="st">"Residuals"</span>)</span>
<span id="cb86-5"><a href=""></a>plt.ylabel(<span class="st">"Density"</span>)</span>
<span id="cb86-6"><a href=""></a>plt.title(<span class="st">"Histogram of Residuals"</span>)</span>
<span id="cb86-7"><a href=""></a>plt.legend()</span>
<span id="cb86-8"><a href=""></a>plt.tight_layout()</span>
<span id="cb86-9"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-62-output-1.png" width="566" height="374"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="avaliando-o-modelo-linear-1" class="slide level2 smaller center">
<h2>Avaliando o modelo linear</h2>
<div class="columns">
<div id="663f5654" class="cell" data-execution_count="62">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href=""></a><span class="co"># Residuals vs Fitted</span></span>
<span id="cb87-2"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb87-3"><a href=""></a>sns.scatterplot(x<span class="op">=</span>y_pred, y<span class="op">=</span>resid, color<span class="op">=</span><span class="st">'#8be9fd'</span>, edgecolor<span class="op">=</span><span class="st">'#444'</span>, alpha<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb87-4"><a href=""></a>plt.axhline(<span class="dv">0</span>, color<span class="op">=</span><span class="st">'k'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, linewidth<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb87-5"><a href=""></a>plt.xlabel(<span class="st">'Fitted values'</span>)</span>
<span id="cb87-6"><a href=""></a>plt.ylabel(<span class="st">'Residuals'</span>)</span>
<span id="cb87-7"><a href=""></a>plt.title(<span class="st">'Residuals vs Fitted'</span>)</span>
<span id="cb87-8"><a href=""></a>plt.tight_layout()</span>
<span id="cb87-9"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-63-output-1.png" width="566" height="374"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="avaliando-o-modelo-linear-2" class="slide level2 smaller center">
<h2>Avaliando o modelo linear</h2>
<div class="columns">
<div id="2714cc5a" class="cell" data-execution_count="63">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href=""></a><span class="co"># QQ-plot of residuals</span></span>
<span id="cb88-2"><a href=""></a>sm.qqplot(resid, line<span class="op">=</span><span class="st">'s'</span>)</span>
<span id="cb88-3"><a href=""></a>plt.title(<span class="st">'QQ-plot of residuals'</span>)</span>
<span id="cb88-4"><a href=""></a>plt.tight_layout()</span>
<span id="cb88-5"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-64-output-1.png" width="950" height="470"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="avaliando-o-modelo-linear-3" class="slide level2 smaller center">
<h2>Avaliando o modelo linear</h2>
<div class="columns">
<div id="fdbdb1ac" class="cell" data-execution_count="64">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href=""></a><span class="co"># Scale-Location (sqrt standardized residuals) plot</span></span>
<span id="cb89-2"><a href=""></a>std_resid <span class="op">=</span> resid <span class="op">/</span> np.std(resid, ddof<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb89-3"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb89-4"><a href=""></a>sns.scatterplot(x<span class="op">=</span>y_pred, y<span class="op">=</span>np.sqrt(np.<span class="bu">abs</span>(std_resid)), color<span class="op">=</span><span class="st">'#8be9fd'</span>, edgecolor<span class="op">=</span><span class="st">'#444'</span>, alpha<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb89-5"><a href=""></a>plt.xlabel(<span class="st">'Fitted values'</span>)</span>
<span id="cb89-6"><a href=""></a>plt.ylabel(<span class="st">'Sqrt(|Standardized residuals|)'</span>)</span>
<span id="cb89-7"><a href=""></a>plt.title(<span class="st">'Scale-Location'</span>)</span>
<span id="cb89-8"><a href=""></a>plt.tight_layout()</span>
<span id="cb89-9"><a href=""></a>plt.show()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="dia_04_files/figure-revealjs/cell-65-output-1.png" width="567" height="374"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="avaliando-o-modelo-linear-4" class="slide level2 center">
<h2>Avaliando o modelo linear</h2>
<div class="columns">
<ul>
<li><p>Teste de heterocedasticidade (Breusch-Pagan)</p></li>
<li><p>Espera-se homocedasticidade na distribução de erros</p></li>
</ul><div id="62113101" class="cell" data-execution_count="65">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href=""></a>X_with_const <span class="op">=</span> sm.add_constant(df_model[[<span class="st">'body_mass_g'</span>]])</span>
<span id="cb90-2"><a href=""></a>lm_stat, lm_pvalue, f_stat, f_pvalue <span class="op">=</span> het_breuschpagan(resid, X_with_const)</span>
<span id="cb90-3"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Breusch-Pagan -&gt; LM stat=</span><span class="sc">{</span>lm_stat<span class="sc">:.3f}</span><span class="ss">, p-value=</span><span class="sc">{</span>lm_pvalue<span class="sc">:.4f}</span><span class="ss">; F stat=</span><span class="sc">{</span>f_stat<span class="sc">:.3f}</span><span class="ss">, p-value=</span><span class="sc">{</span>f_pvalue<span class="sc">:.4f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Breusch-Pagan -&gt; LM stat=1.365, p-value=0.2427; F stat=1.362, p-value=0.2440</code></pre>
</div>
</div>
</div>
</section></section>
<section id="uso-de-inteligência-artificial" class="title-slide slide level1 center">
<h1>Uso de Inteligência Artificial</h1>
<p>Material com exemplos criados com GitHub Copilot usando modelo(s):</p>
<ul>
<li><code>GPT 5.0</code></li>
</ul>
</section>

<section id="referências" class="title-slide slide level1 center">
<h1>Referências</h1>
<ul>
<li><p>Géron, A. Hands-On Machine Learning with Scikit-Learn, Keras &amp; Tensorflow. Terceira Edição (capítulo 9). 2025.</p></li>
<li><p>Vieira, S. Introdução à Bioestatística. 2021.</p></li>
<li><p><a href="https://www.kaggle.com/code/murilozangari/regression-analysis-penguins-data">Regression Analysis - Penguins data</a></p></li>
<li><p><a href="https://rpubs.com/BiniamSA/1108476"></a></p></li>
</ul>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="dia_04_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="dia_04_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="dia_04_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="dia_04_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="dia_04_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="dia_04_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="dia_04_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="dia_04_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="dia_04_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="dia_04_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="dia_04_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copiada");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copiada");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>