---
title: "Dia 04 - Regressão e Correlação"
subtitle: "Introdução à Estatística com Python"
author: "Renato A. Corrêa dos Santos"
date: "2025-10-19"
format:
  revealjs:
    theme: dracula
    transition: fade
    slide-number: true
    show-slide-number: all
    chalkboard: true
    width: 1280
    height: 720
    code-copy: true
    center: true
jupyter: python3
lang: pt-BR
execute:
  echo: true
  warning: false
  error: false
---

# Análise de correlação

:::: {.columns}

Se **duas variáveis têm valores que tendem a variar conjuntamente**, dizemos que há correlação entre elas.

::::


# Diagrama de dispersão (scatterplot)

:::: {.columns}

Existe correlação quando a nuvem de pontos está disposta na **forma de uma elipse**.

 - A correlação é **positiva** quando X cresce e, em média, Y também cresce;

 - A correlação é **negativa** quando X cresce e, em média, Y decresce;

::::

## Exemplo: Diagrama de Dispersão {.smaller}

:::: {.columns}

::: {.column}

```{python}
#| echo: true
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

np.random.seed(42)
x = np.arange(1, 21)
y = 2 * x + np.random.normal(0, 5, size=x.size)

df = pd.DataFrame({"X": x, "Y": y})
```

:::

::: {.column}

```{python}
plt.figure(figsize=(6,4))
sns.scatterplot(data=df, x="X", y="Y", color="#8be9fd", edgecolor="#444")
sns.regplot(data=df, x="X", y="Y", scatter=False, color="#ff79c6")
plt.title("Correlação Positiva: Diagrama de Dispersão")
plt.tight_layout()
plt.show()
```

:::

::::

# Força da correlação e o diagrama de dispersão

:::: {.columns}

 - Correlação **forte** forma uma elipse fechada em torno de uma reta

 - Correlação **fraca** forma uma elipse arredondada

 - A correlação **nula** é indicada por pontos dispersos

::::

## Correlação fraca

:::: {.columns}

::: {.column}

```{python}
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

np.random.seed(123)
x_weak = np.linspace(0, 20, 100)
y_weak = 0.3 * x_weak + np.random.normal(0, 5, size=x_weak.size)

df_weak = pd.DataFrame({"X": x_weak, "Y": y_weak})
```

:::

::: {.column}

```{python}
plt.figure(figsize=(6,4))
sns.scatterplot(data=df_weak, x="X", y="Y", color="#8be9fd", edgecolor="#444", alpha=0.8)
sns.regplot(data=df_weak, x="X", y="Y", scatter=False, color="#ff79c6")
plt.title("Correlação Fraca: Diagrama de Dispersão")
plt.tight_layout()
plt.show()
```

:::

::::


# Correlação linear e não linear

:::: {.columns}

 - Correlação **linear**: nuvem de pontos em torno de uma reta

 - Correlação **não linear**: nuvem de pontos em torno de uma curva

::::

## Correlação não linear

:::: {.columns}

::: {.column}

```{python}
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

np.random.seed(7)
x_nl = np.linspace(0, 10, 200)
y_nl = np.sin(x_nl) * 10 + np.random.normal(0, 1.5, size=x_nl.size)

df_nl = pd.DataFrame({"X": x_nl, "Y": y_nl})
```

:::

::: {.column}

```{python}
plt.figure(figsize=(6,4))
sns.scatterplot(data=df_nl, x="X", y="Y", color="#8be9fd", edgecolor="#444", alpha=0.85)
# Curva média (suavização local)
sns.regplot(data=df_nl, x="X", y="Y", scatter=False, lowess=True, color="#ff79c6")
plt.title("Correlação Não Linear: Y ≈ sin(X)")
plt.tight_layout()
plt.show()
```

:::

::::


# Uso de Inteligência Artificial

Material com exemplos criados com GitHub Copilot usando modelo(s):

 - `GPT 5.0`

# Referências

 - Vieira, S. Introdução à Bioestatística. 2021.